{"version":3,"file":"felaDisableAnimationsPlugin.js","names":["animationProps","isPlainObject","val","Array","isArray","felaDisableAnimationsPlugin","styles","type","renderer","props","disableAnimations","Object","keys","reduce","acc","cssPropertyName","_Object$assign2","cssPropertyValue","indexOf","_Object$assign","assign","exports"],"sources":["felaDisableAnimationsPlugin.ts"],"sourcesContent":["import { ICSSInJSStyle } from '@fluentui/styles';\nimport { FelaRenderer, FelaRendererParam } from './types';\n\nconst animationProps: (keyof ICSSInJSStyle)[] = [\n  'animation',\n  'animationName',\n  'animationDuration',\n  'animationTimingFunction',\n  'animationDelay',\n  'animationIterationCount',\n  'animationDirection',\n  'animationFillMode',\n  'animationPlayState',\n];\n\nfunction isPlainObject(val: any) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n\n/**\n * Fela plugin for disabling animations. The animations are disabled or not based on the\n * props' disableAnimations param. If the value of the prop is true, all animation related\n * styles are removed.\n *\n * Caution! Infinite recursion is possible in case if style object has links to self in the props\n * tree.\n */\nexport const felaDisableAnimationsPlugin = (\n  styles: ICSSInJSStyle,\n  type: string,\n  renderer?: FelaRenderer,\n  props?: Partial<FelaRendererParam>,\n): ICSSInJSStyle => {\n  if (props && props.disableAnimations && type === 'RULE') {\n    return Object.keys(styles).reduce((acc, cssPropertyName: keyof ICSSInJSStyle) => {\n      const cssPropertyValue = styles[cssPropertyName];\n\n      if (animationProps.indexOf(cssPropertyName) !== -1) {\n        return acc;\n      }\n\n      if (isPlainObject(cssPropertyValue)) {\n        return {\n          ...acc,\n          [cssPropertyName]: felaDisableAnimationsPlugin(cssPropertyValue as ICSSInJSStyle, type, renderer, props),\n        };\n      }\n\n      return { ...acc, [cssPropertyName]: styles[cssPropertyName] };\n    }, {});\n  }\n  return styles;\n};\n"],"mappings":";;;;AAGA,IAAMA,cAAuC,GAAG,CAC9C,WAAW,EACX,eAAe,EACf,mBAAmB,EACnB,yBAAyB,EACzB,gBAAgB,EAChB,yBAAyB,EACzB,oBAAoB,EACpB,mBAAmB,EACnB,oBAAoB,CACrB;AAED,SAASC,aAAaA,CAACC,GAAQ,EAAE;EAC/B,OAAOA,GAAG,IAAI,IAAI,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,KAAK,KAAK;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMG,2BAA2B,GAAG,SAA9BA,2BAA2BA,CACtCC,MAAqB,EACrBC,IAAY,EACZC,QAAuB,EACvBC,KAAkC,EAChB;EAClB,IAAIA,KAAK,IAAIA,KAAK,CAACC,iBAAiB,IAAIH,IAAI,KAAK,MAAM,EAAE;IACvD,OAAOI,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAACO,MAAM,CAAC,UAACC,GAAG,EAAEC,eAAoC,EAAK;MAAA,IAAAC,eAAA;MAC/E,IAAMC,gBAAgB,GAAGX,MAAM,CAACS,eAAe,CAAC;MAEhD,IAAIf,cAAc,CAACkB,OAAO,CAACH,eAAe,CAAC,KAAK,CAAC,CAAC,EAAE;QAClD,OAAOD,GAAG;MACZ;MAEA,IAAIb,aAAa,CAACgB,gBAAgB,CAAC,EAAE;QAAA,IAAAE,cAAA;QACnC,OAAAR,MAAA,CAAAS,MAAA,KACKN,GAAG,GAAAK,cAAA,OAAAA,cAAA,CACLJ,eAAe,IAAGV,2BAA2B,CAACY,gBAAgB,EAAmBV,IAAI,EAAEC,QAAQ,EAAEC,KAAK,CAAC,EAAAU,cAAA;MAE5G;MAEA,OAAAR,MAAA,CAAAS,MAAA,KAAYN,GAAG,GAAAE,eAAA,OAAAA,eAAA,CAAGD,eAAe,IAAGT,MAAM,CAACS,eAAe,CAAC,EAAAC,eAAA;IAC7D,CAAC,EAAE,CAAC,CAAC,CAAC;EACR;EACA,OAAOV,MAAM;AACf,CAAC;AAACe,OAAA,CAAAhB,2BAAA,GAAAA,2BAAA"}