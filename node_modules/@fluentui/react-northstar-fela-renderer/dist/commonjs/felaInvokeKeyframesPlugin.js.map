{"version":3,"file":"felaInvokeKeyframesPlugin.js","names":["_styles","require","felaInvokeKeyframesPlugin","styles","Object","keys","reduce","acc","cssPropertyName","cssPropertyValue","_isPlainObject2","default","animationDefinition","keyframe","callable","params","exports"],"sources":["felaInvokeKeyframesPlugin.ts"],"sourcesContent":["import { AnimationKeyFrame, callable, ICSSInJSStyle } from '@fluentui/styles';\nimport * as _ from 'lodash';\n\n/**\n * Fela plugin for invoking keyframes with params. The keyframes, defined in the animationName prop,\n * are called with the params object, if defined in the animationName prop.\n *\n * Caution! Infinite recursion is possible in case if style object has links to self in the props\n * tree.\n */\nexport const felaInvokeKeyframesPlugin = (styles: ICSSInJSStyle): ICSSInJSStyle => {\n  return Object.keys(styles).reduce((acc: ICSSInJSStyle, cssPropertyName: keyof ICSSInJSStyle) => {\n    const cssPropertyValue = styles[cssPropertyName];\n\n    if (_.isPlainObject(cssPropertyValue)) {\n      if (cssPropertyName === 'animationName') {\n        const animationDefinition = cssPropertyValue as AnimationKeyFrame;\n\n        if (animationDefinition.keyframe) {\n          styles[cssPropertyName] = callable(animationDefinition.keyframe)(animationDefinition.params || {});\n        }\n\n        acc[cssPropertyName] = styles[cssPropertyName];\n        return acc;\n      }\n\n      // Without casting to any TSC gives \"Expression produces a union type that is too complex to represent\" error\n      (acc as any)[cssPropertyName] = felaInvokeKeyframesPlugin(cssPropertyValue as ICSSInJSStyle);\n      return acc;\n    }\n\n    (acc as any)[cssPropertyName] = styles[cssPropertyName];\n    return acc;\n  }, {});\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAIC,MAAqB,EAAoB;EACjF,OAAOC,MAAM,CAACC,IAAI,CAACF,MAAM,CAAC,CAACG,MAAM,CAAC,UAACC,GAAkB,EAAEC,eAAoC,EAAK;IAC9F,IAAMC,gBAAgB,GAAGN,MAAM,CAACK,eAAe,CAAC;IAEhD,IAAI,IAAAE,eAAA,CAAAC,OAAA,EAAgBF,gBAAgB,CAAC,EAAE;MACrC,IAAID,eAAe,KAAK,eAAe,EAAE;QACvC,IAAMI,mBAAmB,GAAGH,gBAAqC;QAEjE,IAAIG,mBAAmB,CAACC,QAAQ,EAAE;UAChCV,MAAM,CAACK,eAAe,CAAC,GAAG,IAAAM,gBAAQ,EAACF,mBAAmB,CAACC,QAAQ,CAAC,CAACD,mBAAmB,CAACG,MAAM,IAAI,CAAC,CAAC,CAAC;QACpG;QAEAR,GAAG,CAACC,eAAe,CAAC,GAAGL,MAAM,CAACK,eAAe,CAAC;QAC9C,OAAOD,GAAG;MACZ;;MAEA;MACCA,GAAG,CAASC,eAAe,CAAC,GAAGN,yBAAyB,CAACO,gBAAiC,CAAC;MAC5F,OAAOF,GAAG;IACZ;IAECA,GAAG,CAASC,eAAe,CAAC,GAAGL,MAAM,CAACK,eAAe,CAAC;IACvD,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAACS,OAAA,CAAAd,yBAAA,GAAAA,yBAAA"}