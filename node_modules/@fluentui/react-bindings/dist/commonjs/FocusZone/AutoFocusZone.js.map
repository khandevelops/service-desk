{"version":3,"file":"AutoFocusZone.js","names":["_reactComponentRef","require","_styles","React","_interopRequireWildcard","PropTypes","_getElementType","_getUnhandledProps","_focusUtilities","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","AutoFocusZone","_React$Component","_inheritsLoose2","_this","_len","arguments","length","args","Array","_key","apply","concat","root","createRef","findElementAndFocusAsync","current","firstFocusableSelector","props","focusSelector","callable","firstFocusableChild","querySelector","getNextElement","firstChild","focusAsync","_proto","componentDidMount","render","_this2","unhandledProps","getUnhandledProps","handledProps","ElementType","getElementType","createElement","_extends2","ref","element","handleRef","innerRef","children","Component","exports","propTypes","as","elementType","oneOfType","func","string","any","_keys2"],"sources":["FocusZone/AutoFocusZone.tsx"],"sourcesContent":["import { handleRef } from '@fluentui/react-component-ref';\nimport { callable } from '@fluentui/styles';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\n\nimport { getElementType } from '../utils/getElementType';\nimport { getUnhandledProps } from '../utils/getUnhandledProps';\nimport { AutoFocusZoneProps } from './AutoFocusZone.types';\nimport { getNextElement, focusAsync } from './focusUtilities';\n\n/** AutoFocusZone is used to focus inner element on mount. */\nexport class AutoFocusZone extends React.Component<AutoFocusZoneProps> {\n  root = React.createRef<HTMLElement>();\n\n  static propTypes = {\n    as: PropTypes.elementType,\n    firstFocusableSelector: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    innerRef: PropTypes.any,\n  };\n\n  static handledProps = _.keys(AutoFocusZone.propTypes) as any;\n\n  componentDidMount(): void {\n    this.findElementAndFocusAsync();\n  }\n\n  render(): JSX.Element {\n    const unhandledProps = getUnhandledProps(AutoFocusZone.handledProps, this.props);\n    const ElementType = getElementType(this.props);\n\n    return (\n      <ElementType\n        ref={(element: HTMLElement) => {\n          handleRef(this.root, element);\n          handleRef(this.props.innerRef, element);\n        }}\n        {...unhandledProps}\n      >\n        {this.props.children}\n      </ElementType>\n    );\n  }\n\n  findElementAndFocusAsync = () => {\n    if (!this.root.current) return;\n    const { firstFocusableSelector } = this.props;\n\n    const focusSelector = callable(firstFocusableSelector)();\n\n    const firstFocusableChild = focusSelector\n      ? (this.root.current.querySelector(focusSelector) as HTMLElement)\n      : getNextElement(this.root.current, this.root.current.firstChild as HTMLElement, true, false, false, true);\n\n    firstFocusableChild && focusAsync(firstFocusableChild);\n  };\n}\n"],"mappings":"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"}