{"version":3,"file":"useAutoControlled.js","names":["React","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","isUndefined","value","useAutoControlled","options","_React$useState","useState","defaultValue","initialValue","stateValue","setStateValue","valueRef","useRef","useEffect","current","setValue","useCallback","newState","exports"],"sources":["hooks/useAutoControlled.ts"],"sourcesContent":["import * as React from 'react';\n\ntype UseAutoControlledOptions<Value> = {\n  defaultValue: Value;\n  value: Value;\n\n  initialValue?: Value;\n};\n\nconst isUndefined = (value: any) => typeof value === 'undefined';\n\n/**\n * Returns a stateful value, and a function to update it. Mimics the `useState()` React Hook\n * signature.\n */\nexport const useAutoControlled = <Value>(\n  options: UseAutoControlledOptions<Value>,\n): [Value, React.Dispatch<React.SetStateAction<Value>>] => {\n  const [stateValue, setStateValue] = React.useState<Value>(\n    isUndefined(options.defaultValue) ? (options.initialValue as Value) : options.defaultValue,\n  );\n\n  const value = isUndefined(options.value) ? stateValue : options.value;\n  // Used to avoid dependencies in \"setValue\"\n  const valueRef = React.useRef(value);\n\n  React.useEffect(() => {\n    valueRef.current = value;\n  }, [value]);\n\n  const setValue = React.useCallback((newState: Value) => {\n    if (typeof newState === 'function') {\n      // Handles functional updates\n      // https://reactjs.org/docs/hooks-reference.html#functional-updates\n      valueRef.current = newState(valueRef.current);\n    } else {\n      valueRef.current = newState;\n    }\n\n    setStateValue(valueRef.current);\n  }, []);\n\n  return [value, setValue];\n};\n"],"mappings":";;;;AAAA,IAAAA,KAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA+B,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAS/B,IAAMW,WAAW,GAAG,SAAdA,WAAWA,CAAIC,KAAU;EAAA,OAAK,OAAOA,KAAK,KAAK,WAAW;AAAA;;AAEhE;AACA;AACA;AACA;AACO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAC5BC,OAAwC,EACiB;EACzD,IAAAC,eAAA,GAAoC7B,KAAK,CAAC8B,QAAQ,CAChDL,WAAW,CAACG,OAAO,CAACG,YAAY,CAAC,GAAIH,OAAO,CAACI,YAAY,GAAaJ,OAAO,CAACG,YAChF,CAAC;IAFME,UAAU,GAAAJ,eAAA;IAAEK,aAAa,GAAAL,eAAA;EAIhC,IAAMH,KAAK,GAAGD,WAAW,CAACG,OAAO,CAACF,KAAK,CAAC,GAAGO,UAAU,GAAGL,OAAO,CAACF,KAAK;EACrE;EACA,IAAMS,QAAQ,GAAGnC,KAAK,CAACoC,MAAM,CAACV,KAAK,CAAC;EAEpC1B,KAAK,CAACqC,SAAS,CAAC,YAAM;IACpBF,QAAQ,CAACG,OAAO,GAAGZ,KAAK;EAC1B,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,IAAMa,QAAQ,GAAGvC,KAAK,CAACwC,WAAW,CAAC,UAACC,QAAe,EAAK;IACtD,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClC;MACA;MACAN,QAAQ,CAACG,OAAO,GAAGG,QAAQ,CAACN,QAAQ,CAACG,OAAO,CAAC;IAC/C,CAAC,MAAM;MACLH,QAAQ,CAACG,OAAO,GAAGG,QAAQ;IAC7B;IAEAP,aAAa,CAACC,QAAQ,CAACG,OAAO,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACZ,KAAK,EAAEa,QAAQ,CAAC;AAC1B,CAAC;AAACG,OAAA,CAAAf,iBAAA,GAAAA,iBAAA"}