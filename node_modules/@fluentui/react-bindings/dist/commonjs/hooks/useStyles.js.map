{"version":3,"file":"useStyles.js","names":["React","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_context","_getStyles2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","useStyles","displayName","options","_composeOptions$mapPr","context","useFluentContext","debug","useRef","fluentUIDebug","unstyled","_options$composeOptio","componentClassName","composeOptions","className","classNameProp","mapPropsToInlineStyles","classes","root","cx","styles","_options$className","process","env","NODE_ENV","_options$mapPropsToSt","mapPropsToStyles","_options$mapPropsToIn","_options$unstable_pro","unstable_props","_options$rtl","rtl","componentStylesProps","composeProps","assign","composeStylesProps","mapPropsToStylesPropsChain","reduce","acc","fn","_getStyles","getStyles","allDisplayNames","displayNames","primaryDisplayName","componentProps","inlineStylesProps","disableAnimations","renderer","saveDebug","current","theme","performance","telemetry","resolvedStyles","exports"],"sources":["hooks/useStyles.ts"],"sourcesContent":["import { ComposePreparedOptions } from '../compose';\nimport { ComponentSlotStyle, ComponentSlotStylesResolved, ComponentVariablesInput, DebugData } from '@fluentui/styles';\nimport * as React from 'react';\nimport cx from 'classnames';\n\nimport { useFluentContext } from '../context';\nimport { ComponentDesignProp, ComponentSlotClasses, PrimitiveProps } from '../styles/types';\nimport { getStyles } from '../styles/getStyles';\n\ntype UseStylesOptions<StyleProps extends PrimitiveProps> = {\n  /** A classname that will be added by default to all instances of a component on the `root` slot. */\n  className?: string;\n\n  /** An options from compose(), should be used only if component was created by `compose()`. */\n  composeOptions?: ComposePreparedOptions;\n\n  /**\n   * A mapping from component's props to styles functions props. Can be only primitive types as they will be used for\n   * cache keys.\n   */\n  mapPropsToStyles?: () => StyleProps;\n\n  /**\n   * A set props of that contain mapping for props that perform inline styles overrides, for example `styles` or\n   * `variables`.\n   */\n  mapPropsToInlineStyles?: () => InlineStyleProps<any>;\n\n  /**\n   * All components props, should be used only if component was created by `compose()`. Will be replaced in future with\n   * better approach.\n   */\n  unstable_props?: Record<string, any>;\n\n  /** A current mode for text direction (ltr or rtl). */\n  rtl?: boolean;\n\n  unstyled?: boolean;\n};\n\nexport type UseStylesResult = {\n  classes: ComponentSlotClasses;\n  styles: ComponentSlotStylesResolved;\n};\n\ntype InlineStyleProps<ComponentProps> = {\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  design?: ComponentDesignProp;\n\n  /** Additional CSS styles to apply to the component instance.  */\n  styles?: ComponentSlotStyle<ComponentProps, any>; // TODO: see if we can improve it\n\n  /** Override for theme site variables to allow modifications of component styling via themes. */\n  variables?: ComponentVariablesInput;\n};\n\nexport const useStyles = <StyleProps extends PrimitiveProps>(\n  displayName: string,\n  options: UseStylesOptions<StyleProps>,\n): UseStylesResult => {\n  const context = useFluentContext();\n\n  // Stores debug information for component.\n  const debug = React.useRef<{ fluentUIDebug: DebugData | null }>({ fluentUIDebug: null });\n\n  if (options.unstyled) {\n    const componentClassName = options.composeOptions?.className || options.className;\n    const classNameProp = options.mapPropsToInlineStyles?.().className;\n    return { classes: { root: cx(componentClassName, classNameProp) }, styles: {} };\n  }\n\n  const {\n    className = process.env.NODE_ENV === 'production' ? '' : 'no-classname-ðŸ™‰',\n    composeOptions,\n    mapPropsToStyles = () => ({} as StyleProps),\n    mapPropsToInlineStyles = () => ({} as InlineStyleProps<any>),\n    unstable_props = {},\n    rtl = false,\n  } = options;\n  const componentStylesProps = mapPropsToStyles();\n\n  // `composeProps` should include all props including stylesProps as they can contain state\n  const composeProps = { ...unstable_props, ...componentStylesProps };\n  const composeStylesProps = composeOptions?.mapPropsToStylesPropsChain?.reduce(\n    (acc, fn) => ({ ...acc, ...fn(composeProps) }),\n    {},\n  );\n\n  const { classes, styles: resolvedStyles } = getStyles({\n    // Input values\n    allDisplayNames: composeOptions?.displayNames || [displayName],\n    className: composeOptions?.className || className,\n    primaryDisplayName: composeOptions?.displayName || displayName,\n    componentProps: {\n      ...componentStylesProps,\n      ...composeStylesProps,\n    },\n    inlineStylesProps: mapPropsToInlineStyles(),\n\n    // Context values\n    disableAnimations: context.disableAnimations,\n    renderer: context.renderer,\n    rtl,\n    saveDebug: fluentUIDebug => (debug.current = { fluentUIDebug }),\n    theme: context.theme,\n    performance: context.performance,\n    telemetry: context.telemetry,\n  });\n\n  return { classes, styles: resolvedStyles };\n};\n"],"mappings":"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"}