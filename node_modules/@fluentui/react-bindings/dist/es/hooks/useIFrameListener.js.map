{"version":3,"file":"useIFrameListener.js","names":["React","FUI_FRAME_EVENT","useIFrameListener","enableFrameFocusDispatch","callback","targetDocument","listener","useCallback","e","useEffect","addEventListener","removeEventListener"],"sources":["hooks/useIFrameListener.ts"],"sourcesContent":["import * as React from 'react';\nimport { FUI_FRAME_EVENT } from './useIFrameFocusDispatch';\n\n/**\n * Set a listener for a custom event emmited by the useIFrameFocusDispatch to execute the callback\n */\nexport const useIFrameListener = (\n  enableFrameFocusDispatch: boolean,\n  callback: (e: Event) => void,\n  targetDocument: Document,\n) => {\n  const listener = React.useCallback(\n    (e: Event) => {\n      if (callback) {\n        callback(e);\n      }\n    },\n    [callback],\n  );\n\n  React.useEffect(() => {\n    if (enableFrameFocusDispatch) {\n      targetDocument?.addEventListener(FUI_FRAME_EVENT, listener);\n    }\n    return () => {\n      targetDocument?.removeEventListener(FUI_FRAME_EVENT, listener);\n    };\n  }, [targetDocument, enableFrameFocusDispatch, listener]);\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,eAAe,QAAQ,0BAA0B;;AAE1D;AACA;AACA;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAC5BC,wBAAiC,EACjCC,QAA4B,EAC5BC,cAAwB,EACrB;EACH,IAAMC,QAAQ,GAAGN,KAAK,CAACO,WAAW,CAChC,UAACC,CAAQ,EAAK;IACZ,IAAIJ,QAAQ,EAAE;MACZA,QAAQ,CAACI,CAAC,CAAC;IACb;EACF,CAAC,EACD,CAACJ,QAAQ,CACX,CAAC;EAEDJ,KAAK,CAACS,SAAS,CAAC,YAAM;IACpB,IAAIN,wBAAwB,EAAE;MAC5BE,cAAc,oBAAdA,cAAc,CAAEK,gBAAgB,CAACT,eAAe,EAAEK,QAAQ,CAAC;IAC7D;IACA,OAAO,YAAM;MACXD,cAAc,oBAAdA,cAAc,CAAEM,mBAAmB,CAACV,eAAe,EAAEK,QAAQ,CAAC;IAChE,CAAC;EACH,CAAC,EAAE,CAACD,cAAc,EAAEF,wBAAwB,EAAEG,QAAQ,CAAC,CAAC;AAC1D,CAAC"}