{"version":3,"file":"AutoFocusZone.js","names":["handleRef","callable","React","PropTypes","getElementType","getUnhandledProps","getNextElement","focusAsync","AutoFocusZone","_React$Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","root","createRef","findElementAndFocusAsync","current","firstFocusableSelector","props","focusSelector","firstFocusableChild","querySelector","firstChild","_proto","prototype","componentDidMount","render","_this2","unhandledProps","handledProps","ElementType","createElement","_extends","ref","element","innerRef","children","Component","propTypes","as","elementType","oneOfType","func","string","any","_keys"],"sources":["FocusZone/AutoFocusZone.tsx"],"sourcesContent":["import { handleRef } from '@fluentui/react-component-ref';\nimport { callable } from '@fluentui/styles';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\n\nimport { getElementType } from '../utils/getElementType';\nimport { getUnhandledProps } from '../utils/getUnhandledProps';\nimport { AutoFocusZoneProps } from './AutoFocusZone.types';\nimport { getNextElement, focusAsync } from './focusUtilities';\n\n/** AutoFocusZone is used to focus inner element on mount. */\nexport class AutoFocusZone extends React.Component<AutoFocusZoneProps> {\n  root = React.createRef<HTMLElement>();\n\n  static propTypes = {\n    as: PropTypes.elementType,\n    firstFocusableSelector: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    innerRef: PropTypes.any,\n  };\n\n  static handledProps = _.keys(AutoFocusZone.propTypes) as any;\n\n  componentDidMount(): void {\n    this.findElementAndFocusAsync();\n  }\n\n  render(): JSX.Element {\n    const unhandledProps = getUnhandledProps(AutoFocusZone.handledProps, this.props);\n    const ElementType = getElementType(this.props);\n\n    return (\n      <ElementType\n        ref={(element: HTMLElement) => {\n          handleRef(this.root, element);\n          handleRef(this.props.innerRef, element);\n        }}\n        {...unhandledProps}\n      >\n        {this.props.children}\n      </ElementType>\n    );\n  }\n\n  findElementAndFocusAsync = () => {\n    if (!this.root.current) return;\n    const { firstFocusableSelector } = this.props;\n\n    const focusSelector = callable(firstFocusableSelector)();\n\n    const firstFocusableChild = focusSelector\n      ? (this.root.current.querySelector(focusSelector) as HTMLElement)\n      : getNextElement(this.root.current, this.root.current.firstChild as HTMLElement, true, false, false, true);\n\n    firstFocusableChild && focusAsync(firstFocusableChild);\n  };\n}\n"],"mappings":"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"}