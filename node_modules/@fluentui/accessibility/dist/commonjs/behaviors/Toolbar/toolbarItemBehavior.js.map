{"version":3,"file":"toolbarItemBehavior.js","names":["_keyboardKey","require","_buttonBehavior","toolbarItemBehavior","props","behaviorData","buttonBehavior","attributes","root","Object","assign","hasPopup","hasMenu","undefined","disabled","disabledFocusable","keyActions","wrapper","performWrapperClick","keyCombinations","keyCode","keyboardKey","Enter","SpacebarKey","closeMenuAndFocusTrigger","menuOpen","Escape","Tab","shiftKey","doNotNavigateNextToolbarItem","ArrowLeft","ArrowRight","exports"],"sources":["behaviors/Toolbar/toolbarItemBehavior.ts"],"sourcesContent":["import { keyboardKey, SpacebarKey } from '../../keyboard-key';\n\nimport { Accessibility } from '../../types';\nimport { buttonBehavior, ButtonBehaviorProps } from '../Button/buttonBehavior';\n\n/**\n * @specification\n * Adds role='button' if element type is other than 'button'. This allows screen readers to handle the component as a button.\n * Adds attribute 'tabIndex=0' if element type is other than 'button'.\n * Adds attribute 'aria-haspopup=menu' to 'root' slot if 'hasMenu' property is set.\n * Adds attribute 'aria-haspopup=dialog' to 'root' slot if 'hasPopup' property is set.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'root'.\n * Triggers 'closeMenuAndFocusTrigger' action with 'Escape' on 'wrapper', when toolbar button has submenu and it is opened.\n * Triggers 'doNotNavigateNextToolbarItem' action with 'ArrowLeft' or 'ArrowRight' on 'wrapper', when toolbar button has submenu and it is opened.\n * Adds attribute 'disabled=true' based on the property 'disabled'.\n * Adds attribute 'aria-disabled=true' based on the property 'disabledFocusable'.\n */\nexport const toolbarItemBehavior: Accessibility<ToolbarItemBehaviorProps> = props => {\n  const behaviorData = buttonBehavior(props);\n  behaviorData.attributes.root = {\n    ...behaviorData.attributes.root,\n    'aria-haspopup': props.hasPopup ? 'dialog' : props.hasMenu ? 'menu' : undefined,\n    disabled: props.disabled,\n    'aria-disabled': props.disabledFocusable,\n  };\n  behaviorData.keyActions.wrapper = {\n    ...behaviorData.keyActions.wrapper,\n    performWrapperClick: {\n      keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n    },\n    closeMenuAndFocusTrigger: {\n      keyCombinations:\n        props.hasMenu && props.menuOpen\n          ? [{ keyCode: keyboardKey.Escape }, { keyCode: keyboardKey.Tab, shiftKey: true }]\n          : null,\n    },\n    doNotNavigateNextToolbarItem: {\n      keyCombinations:\n        props.hasMenu && props.menuOpen\n          ? [{ keyCode: keyboardKey.ArrowLeft }, { keyCode: keyboardKey.ArrowRight }]\n          : null,\n    },\n  };\n  return behaviorData;\n};\n\nexport type ToolbarItemBehaviorProps = {\n  /** Indicated if toolbar item has a menu. */\n  hasMenu?: boolean;\n  /** If the menu is in open state. */\n  menuOpen?: boolean;\n  /** Indicated if toolbar item has a popup. */\n  hasPopup?: boolean;\n} & ButtonBehaviorProps;\n"],"mappings":";;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAGA,IAAAC,eAAA,GAAAD,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAME,mBAA4D,GAAG,SAA/DA,mBAA4DA,CAAGC,KAAK,EAAI;EACnF,IAAMC,YAAY,GAAG,IAAAC,8BAAc,EAACF,KAAK,CAAC;EAC1CC,YAAY,CAACE,UAAU,CAACC,IAAI,GAAAC,MAAA,CAAAC,MAAA,KACvBL,YAAY,CAACE,UAAU,CAACC,IAAI;IAC/B,eAAe,EAAEJ,KAAK,CAACO,QAAQ,GAAG,QAAQ,GAAGP,KAAK,CAACQ,OAAO,GAAG,MAAM,GAAGC,SAAS;IAC/EC,QAAQ,EAAEV,KAAK,CAACU,QAAQ;IACxB,eAAe,EAAEV,KAAK,CAACW;EAAiB,EACzC;EACDV,YAAY,CAACW,UAAU,CAACC,OAAO,GAAAR,MAAA,CAAAC,MAAA,KAC1BL,YAAY,CAACW,UAAU,CAACC,OAAO;IAClCC,mBAAmB,EAAE;MACnBC,eAAe,EAAE,CAAC;QAAEC,OAAO,EAAEC,wBAAW,CAACC;MAAM,CAAC,EAAE;QAAEF,OAAO,EAAEG;MAAY,CAAC;IAC5E,CAAC;IACDC,wBAAwB,EAAE;MACxBL,eAAe,EACbf,KAAK,CAACQ,OAAO,IAAIR,KAAK,CAACqB,QAAQ,GAC3B,CAAC;QAAEL,OAAO,EAAEC,wBAAW,CAACK;MAAO,CAAC,EAAE;QAAEN,OAAO,EAAEC,wBAAW,CAACM,GAAG;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC,GAC/E;IACR,CAAC;IACDC,4BAA4B,EAAE;MAC5BV,eAAe,EACbf,KAAK,CAACQ,OAAO,IAAIR,KAAK,CAACqB,QAAQ,GAC3B,CAAC;QAAEL,OAAO,EAAEC,wBAAW,CAACS;MAAU,CAAC,EAAE;QAAEV,OAAO,EAAEC,wBAAW,CAACU;MAAW,CAAC,CAAC,GACzE;IACR;EAAC,EACF;EACD,OAAO1B,YAAY;AACrB,CAAC;AAAC2B,OAAA,CAAA7B,mBAAA,GAAAA,mBAAA"}