{"version":3,"file":"menuItemAsToolbarButtonBehavior.js","names":["_keyboardKey","require","_attributes","menuItemAsToolbarButtonBehavior","props","_root","attributes","wrapper","role","root","tabIndex","hasMenu","undefined","IS_FOCUSABLE_ATTRIBUTE","keyActions","performClick","keyCombinations","keyCode","keyboardKey","Enter","SpacebarKey","closeMenuAndFocusTrigger","Escape","openMenu","vertical","ArrowDown","doNotNavigateNextParentItem","menuOpen","ArrowLeft","ArrowRight","exports"],"sources":["behaviors/Toolbar/menuItemAsToolbarButtonBehavior.ts"],"sourcesContent":["import { keyboardKey, SpacebarKey } from '../../keyboard-key';\n\nimport { IS_FOCUSABLE_ATTRIBUTE } from '../../attributes';\nimport { Accessibility } from '../../types';\nimport { MenuItemBehaviorProps } from '../Menu/menuItemBehavior';\n\n/**\n * @description\n * The behavior is designed for particular structure of menu item. The item consists of root element and anchor inside the root element.\n *\n * @specification\n * Adds role 'presentation' to 'wrapper' slot.\n * Adds role 'button' to 'root' slot.\n * Adds attribute 'tabIndex=0' to 'root' slot.\n * Adds attribute 'aria-label' based on the property 'aria-label' to 'root' slot.\n * Adds attribute 'aria-labelledby' based on the property 'aria-labelledby' to 'root' slot.\n * Adds attribute 'aria-describedby' based on the property 'aria-describedby' to 'root' slot.\n * Adds attribute 'aria-disabled=true' based on the property 'disabled'. This can be overriden by providing 'aria-disabled' property directly to the component.\n * Adds attribute 'aria-haspopup=true' to 'root' slot if 'hasMenu' property is set.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'wrapper'.\n * Triggers 'closeMenuAndFocusTrigger' action with 'Escape' on 'wrapper'.\n * Triggers 'openMenu' action with 'ArrowDown' on 'wrapper', when orientation is horizontal.\n * Triggers 'doNotNavigateNextParentItem' action with 'ArrowLeft' or 'ArrowRight' on 'wrapper', when toolbar button has submenu and it is opened.\n * Adds attribute 'data-is-focusable=true' to 'root' slot.\n */\nexport const menuItemAsToolbarButtonBehavior: Accessibility<MenuItemBehaviorProps> = props => ({\n  attributes: {\n    wrapper: {\n      role: 'presentation',\n    },\n    root: {\n      role: 'button',\n      tabIndex: 0,\n      'aria-haspopup': props.hasMenu ? 'true' : undefined,\n      'aria-disabled': props['disabled'],\n      'aria-label': props['aria-label'],\n      'aria-labelledby': props['aria-labelledby'],\n      'aria-describedby': props['aria-describedby'],\n      [IS_FOCUSABLE_ATTRIBUTE]: true,\n    },\n  },\n\n  keyActions: {\n    wrapper: {\n      performClick: {\n        keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n      },\n      closeMenuAndFocusTrigger: {\n        keyCombinations: [{ keyCode: keyboardKey.Escape }],\n      },\n      openMenu: !props.vertical && {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowDown }],\n      },\n      doNotNavigateNextParentItem: {\n        keyCombinations:\n          props.hasMenu && props.menuOpen\n            ? [{ keyCode: keyboardKey.ArrowLeft }, { keyCode: keyboardKey.ArrowRight }]\n            : null,\n      },\n    },\n  },\n});\n"],"mappings":";;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAD,OAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAME,+BAAqE,GAAG,SAAxEA,+BAAqEA,CAAGC,KAAK;EAAA,IAAAC,KAAA;EAAA,OAAK;IAC7FC,UAAU,EAAE;MACVC,OAAO,EAAE;QACPC,IAAI,EAAE;MACR,CAAC;MACDC,IAAI,GAAAJ,KAAA;QACFG,IAAI,EAAE,QAAQ;QACdE,QAAQ,EAAE,CAAC;QACX,eAAe,EAAEN,KAAK,CAACO,OAAO,GAAG,MAAM,GAAGC,SAAS;QACnD,eAAe,EAAER,KAAK,CAAC,UAAU,CAAC;QAClC,YAAY,EAAEA,KAAK,CAAC,YAAY,CAAC;QACjC,iBAAiB,EAAEA,KAAK,CAAC,iBAAiB,CAAC;QAC3C,kBAAkB,EAAEA,KAAK,CAAC,kBAAkB;MAAC,GAAAC,KAAA,CAC5CQ,kCAAsB,IAAG,IAAI,EAAAR,KAAA;IAElC,CAAC;IAEDS,UAAU,EAAE;MACVP,OAAO,EAAE;QACPQ,YAAY,EAAE;UACZC,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAEC,wBAAW,CAACC;UAAM,CAAC,EAAE;YAAEF,OAAO,EAAEG;UAAY,CAAC;QAC5E,CAAC;QACDC,wBAAwB,EAAE;UACxBL,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAEC,wBAAW,CAACI;UAAO,CAAC;QACnD,CAAC;QACDC,QAAQ,EAAE,CAACnB,KAAK,CAACoB,QAAQ,IAAI;UAC3BR,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAEC,wBAAW,CAACO;UAAU,CAAC;QACtD,CAAC;QACDC,2BAA2B,EAAE;UAC3BV,eAAe,EACbZ,KAAK,CAACO,OAAO,IAAIP,KAAK,CAACuB,QAAQ,GAC3B,CAAC;YAAEV,OAAO,EAAEC,wBAAW,CAACU;UAAU,CAAC,EAAE;YAAEX,OAAO,EAAEC,wBAAW,CAACW;UAAW,CAAC,CAAC,GACzE;QACR;MACF;IACF;EACF,CAAC;AAAA,CAAC;AAACC,OAAA,CAAA3B,+BAAA,GAAAA,+BAAA"}