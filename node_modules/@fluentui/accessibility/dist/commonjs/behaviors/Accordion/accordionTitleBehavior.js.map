{"version":3,"file":"accordionTitleBehavior.js","names":["_keyboardKey","require","accordionTitleBehavior","props","isHeading","test","as","forcedOpen","active","canBeCollapsed","attributes","root","role","undefined","content","disabled","accordionContentId","tabIndex","keyActions","performClick","keyCombinations","keyCode","keyboardKey","Enter","SpacebarKey","exports"],"sources":["behaviors/Accordion/accordionTitleBehavior.ts"],"sourcesContent":["import { keyboardKey, SpacebarKey } from '../../keyboard-key';\nimport { Accessibility } from '../../types';\n\n/**\n * @description\n * Adds accessibility attributed to implement the Accordion design pattern.\n * Adds 'aria-disabled' to the 'content' slot with a value based on disabled, active and canBeCollapsed props.\n * Adds role='heading' and aria-level='3' if the element type is not a header.\n *\n * @specification\n * Adds attribute 'role=button' to 'content' slot.\n * Adds attribute 'tabIndex=0' to 'content' slot.\n * Adds attribute 'aria-expanded=true' based on the property 'active' to 'content' slot.\n * Adds attribute 'aria-controls=content-id' based on the property 'accordionContentId' to 'content' slot.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'content'.\n */\nexport const accordionTitleBehavior: Accessibility<AccordionTitleBehaviorProps> = props => {\n  const isHeading = /(h\\d{1})$/.test(props.as);\n  const forcedOpen = props.active && !props.canBeCollapsed;\n  return {\n    attributes: {\n      root: {\n        role: isHeading ? undefined : 'heading',\n        'aria-level': isHeading ? undefined : 3,\n      },\n      content: {\n        'aria-expanded': !!props.active,\n        'aria-disabled': !!(forcedOpen || props.disabled),\n        'aria-controls': props.accordionContentId,\n        role: 'button',\n        tabIndex: 0,\n      },\n    },\n    keyActions: {\n      content: {\n        performClick: {\n          keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n        },\n      },\n    },\n  };\n};\n\nexport type AccordionTitleBehaviorProps = {\n  /** Element type. */\n  as?: string;\n  /** Whether or not the title is in the open state. */\n  active?: boolean;\n  /** If at least one panel needs to stay active and this title does not correspond to the last active one. */\n  canBeCollapsed?: boolean;\n  /** An accordion title can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n  /** Id of the content it owns. */\n  accordionContentId?: string;\n};\n"],"mappings":";;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMC,sBAAkE,GAAG,SAArEA,sBAAkEA,CAAGC,KAAK,EAAI;EACzF,IAAMC,SAAS,GAAG,WAAW,CAACC,IAAI,CAACF,KAAK,CAACG,EAAE,CAAC;EAC5C,IAAMC,UAAU,GAAGJ,KAAK,CAACK,MAAM,IAAI,CAACL,KAAK,CAACM,cAAc;EACxD,OAAO;IACLC,UAAU,EAAE;MACVC,IAAI,EAAE;QACJC,IAAI,EAAER,SAAS,GAAGS,SAAS,GAAG,SAAS;QACvC,YAAY,EAAET,SAAS,GAAGS,SAAS,GAAG;MACxC,CAAC;MACDC,OAAO,EAAE;QACP,eAAe,EAAE,CAAC,CAACX,KAAK,CAACK,MAAM;QAC/B,eAAe,EAAE,CAAC,EAAED,UAAU,IAAIJ,KAAK,CAACY,QAAQ,CAAC;QACjD,eAAe,EAAEZ,KAAK,CAACa,kBAAkB;QACzCJ,IAAI,EAAE,QAAQ;QACdK,QAAQ,EAAE;MACZ;IACF,CAAC;IACDC,UAAU,EAAE;MACVJ,OAAO,EAAE;QACPK,YAAY,EAAE;UACZC,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAEC,wBAAW,CAACC;UAAM,CAAC,EAAE;YAAEF,OAAO,EAAEG;UAAY,CAAC;QAC5E;MACF;IACF;EACF,CAAC;AACH,CAAC;AAACC,OAAA,CAAAvB,sBAAA,GAAAA,sBAAA"}