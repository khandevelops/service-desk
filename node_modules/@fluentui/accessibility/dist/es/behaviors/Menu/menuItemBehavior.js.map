{"version":3,"file":"menuItemBehavior.js","names":["keyboardKey","SpacebarKey","IS_FOCUSABLE_ATTRIBUTE","menuItemBehavior","props","_root","attributes","wrapper","role","root","tabIndex","hasMenu","menuOpen","undefined","disabled","keyActions","performClick","keyCombinations","keyCode","Enter","closeAllMenus","closeAllMenusAndFocusNextParentItem","ArrowRight","closeMenuAndFocusTrigger","Escape","closeMenu","ArrowLeft","openMenu","vertical","ArrowDown"],"sources":["behaviors/Menu/menuItemBehavior.ts"],"sourcesContent":["import { keyboardKey, SpacebarKey } from '../../keyboard-key';\n\nimport { IS_FOCUSABLE_ATTRIBUTE } from '../../attributes';\nimport { Accessibility, AccessibilityAttributes } from '../../types';\n\n/**\n * @description\n * The behavior is designed for particular structure of menu item. The item consists of root element and anchor inside the root element.\n *\n * @specification\n * Adds role 'presentation' to 'wrapper' slot.\n * Adds role 'menuitem' to 'root' slot.\n * Adds attribute 'tabIndex=0' to 'root' slot.\n * Adds attribute 'aria-label' based on the property 'aria-label' to 'root' slot.\n * Adds attribute 'aria-labelledby' based on the property 'aria-labelledby' to 'root' slot.\n * Adds attribute 'aria-describedby' based on the property 'aria-describedby' to 'root' slot.\n * Adds attribute 'aria-expanded=true' based on the property 'menuOpen' if the component has 'hasMenu' property to 'root' slot.\n * Adds attribute 'aria-haspopup=true' to 'root' slot if 'hasMenu' property is set.\n * Adds attribute 'aria-disabled=true' based on the property 'disabled'. This can be overriden by providing 'aria-disabled' property directly to the component.\n * Adds attribute 'data-is-focusable=true' to 'root' slot.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'root'.\n * Triggers 'closeMenuAndFocusTrigger' action with 'Escape' on 'wrapper'.\n * Triggers 'closeAllMenusAndFocusNextParentItem' action with 'ArrowRight' on 'wrapper'.\n * Triggers 'closeMenu' action with 'ArrowLeft' on 'wrapper'.\n * Triggers 'openMenu' action with 'ArrowDown' on 'wrapper', when orientation is horizontal.\n * Triggers 'openMenu' action with 'ArrowRight' on 'wrapper', when orientation is vertical.\n */\nexport const menuItemBehavior: Accessibility<MenuItemBehaviorProps> = props => ({\n  attributes: {\n    wrapper: {\n      role: 'presentation',\n    },\n    root: {\n      role: 'menuitem',\n      tabIndex: 0,\n      'aria-expanded': props.hasMenu ? props.menuOpen || false : undefined,\n      'aria-haspopup': props.hasMenu ? 'true' : undefined,\n      'aria-label': props['aria-label'],\n      'aria-labelledby': props['aria-labelledby'],\n      'aria-describedby': props['aria-describedby'],\n      'aria-disabled': props.disabled,\n      [IS_FOCUSABLE_ATTRIBUTE]: true,\n    },\n  },\n\n  keyActions: {\n    root: {\n      performClick: {\n        keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n      },\n    },\n    wrapper: {\n      closeAllMenus: {\n        keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n      },\n      closeAllMenusAndFocusNextParentItem: {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowRight }],\n      },\n      closeMenuAndFocusTrigger: {\n        keyCombinations: [{ keyCode: keyboardKey.Escape }],\n      },\n      closeMenu: {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowLeft }],\n      },\n      openMenu: {\n        keyCombinations: [{ keyCode: props.vertical ? keyboardKey.ArrowRight : keyboardKey.ArrowDown }],\n      },\n    },\n  },\n});\n\nexport type MenuItemBehaviorProps = {\n  /** Indicated if menu item has submenu. */\n  hasMenu?: boolean | object;\n  /** Defines if submenu is opened. */\n  menuOpen?: boolean;\n  /** If a menu item can is currently unable to be interacted with. */\n  disabled?: boolean;\n  /** If a menu displays elements vertically. */\n  vertical?: boolean;\n} & Pick<AccessibilityAttributes, 'aria-label' | 'aria-labelledby' | 'aria-describedby' | 'aria-disabled'>;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,oBAAoB;AAE7D,SAASC,sBAAsB,QAAQ,kBAAkB;AAGzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,gBAAsD,GAAG,SAAzDA,gBAAsDA,CAAGC,KAAK;EAAA,IAAAC,KAAA;EAAA,OAAK;IAC9EC,UAAU,EAAE;MACVC,OAAO,EAAE;QACPC,IAAI,EAAE;MACR,CAAC;MACDC,IAAI,GAAAJ,KAAA;QACFG,IAAI,EAAE,UAAU;QAChBE,QAAQ,EAAE,CAAC;QACX,eAAe,EAAEN,KAAK,CAACO,OAAO,GAAGP,KAAK,CAACQ,QAAQ,IAAI,KAAK,GAAGC,SAAS;QACpE,eAAe,EAAET,KAAK,CAACO,OAAO,GAAG,MAAM,GAAGE,SAAS;QACnD,YAAY,EAAET,KAAK,CAAC,YAAY,CAAC;QACjC,iBAAiB,EAAEA,KAAK,CAAC,iBAAiB,CAAC;QAC3C,kBAAkB,EAAEA,KAAK,CAAC,kBAAkB,CAAC;QAC7C,eAAe,EAAEA,KAAK,CAACU;MAAQ,GAAAT,KAAA,CAC9BH,sBAAsB,IAAG,IAAI,EAAAG,KAAA;IAElC,CAAC;IAEDU,UAAU,EAAE;MACVN,IAAI,EAAE;QACJO,YAAY,EAAE;UACZC,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAElB,WAAW,CAACmB;UAAM,CAAC,EAAE;YAAED,OAAO,EAAEjB;UAAY,CAAC;QAC5E;MACF,CAAC;MACDM,OAAO,EAAE;QACPa,aAAa,EAAE;UACbH,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAElB,WAAW,CAACmB;UAAM,CAAC,EAAE;YAAED,OAAO,EAAEjB;UAAY,CAAC;QAC5E,CAAC;QACDoB,mCAAmC,EAAE;UACnCJ,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAElB,WAAW,CAACsB;UAAW,CAAC;QACvD,CAAC;QACDC,wBAAwB,EAAE;UACxBN,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAElB,WAAW,CAACwB;UAAO,CAAC;QACnD,CAAC;QACDC,SAAS,EAAE;UACTR,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAElB,WAAW,CAAC0B;UAAU,CAAC;QACtD,CAAC;QACDC,QAAQ,EAAE;UACRV,eAAe,EAAE,CAAC;YAAEC,OAAO,EAAEd,KAAK,CAACwB,QAAQ,GAAG5B,WAAW,CAACsB,UAAU,GAAGtB,WAAW,CAAC6B;UAAU,CAAC;QAChG;MACF;IACF;EACF,CAAC;AAAA,CAAC"}