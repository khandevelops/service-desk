{"version":3,"file":"Animation.js","names":["useUnhandledProps","unstable_calculateAnimationTimeout","calculateAnimationTimeout","useFluentContext","useTelemetry","useMergedRefs","Ref","cx","PropTypes","React","Transition","childrenExist","commonPropTypes","useAnimationStyles","Animation","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","appear","children","className","mountOnEnter","timeout","visible","unmountOnExit","handleAnimationEvent","event","animationClasses","animationDuration","animationDelay","timeoutResult","unhandledProps","handledProps","nodeRef","useRef","mergedRef","isChildrenFunction","child","Children","only","element","state","childWithClasses","classes","cloneElement","propTypes","createCommon","accessibility","as","content","oneOfType","func","name","string","delay","direction","duration","fillMode","iterationCount","keyframeParams","object","playState","timingFunction","bool","number","shape","enter","exit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Object","keys"],"sources":["components/Animation/Animation.tsx"],"sourcesContent":["import {\n  useUnhandledProps,\n  unstable_calculateAnimationTimeout as calculateAnimationTimeout,\n  useFluentContext,\n  useTelemetry,\n  useMergedRefs,\n  ForwardRefComponent,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { Transition } from 'react-transition-group';\n\nimport { childrenExist, commonPropTypes, ChildrenComponentProps } from '../../utils';\nimport { ComponentEventHandler } from '../../types';\nimport { useAnimationStyles } from './useAnimationStyles';\n\nexport type AnimationChildrenProp = (props: {\n  classes: string;\n  state: 'unmounted' | 'exited' | 'entering' | 'entered' | 'exiting';\n}) => React.ReactNode;\n\nexport interface AnimationProps extends ChildrenComponentProps<AnimationChildrenProp | React.ReactChild> {\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** The name for the animation that should be applied, defined in the theme. */\n  name?: string;\n\n  /** Specifies a delay for the start of an animation. Negative values are\n   * also allowed. If using negative values, the animation will start as if it had already been\n   * playing for that amount of time.\n   */\n  delay?: string;\n\n  /** Specifies whether an animation should be played forwards, backwards or in alternate cycles.\n   * It can have the following values:\n   * - normal (default) - The animation is played as normal (forwards)\n   * - reverse - The animation is played in reverse direction (backwards)\n   * - alternate - The animation is played forwards first, then backwards\n   * - alternate-reverse - The animation is played backwards first, then forwards\n   */\n  direction?: string;\n\n  /** Specifies how long an animation should take to complete. */\n  duration?: string;\n\n  /**\n   * Specifies a style for the target element when the animation is not playing (i.e. before it starts, after it ends, or both).\n   * It can have the following values:\n   * - none (default) - Animation will not apply any styles to the element before or after it is executing\n   * - forwards - The element will retain the style values that is set by the last keyframe (depends on animation-direction and animation-iteration-count)\n   * - backwards - The element will get the style values that is set by the first keyframe (depends on animation-direction), and retain this during the animation-delay period\n   * - both - The animation will follow the rules for both forwards and backwards, extending the animation properties in both directions\n   * */\n  fillMode?: string;\n\n  /** Specifies the number of times an animation should run. */\n  iterationCount?: string;\n\n  /** Custom parameters for the keyframe defined for the animation. */\n  keyframeParams?: object;\n\n  /**\n   * Specifies whether the animation is running or paused. It can have the following values:\n   * - paused - Specifies that the animation is paused\n   * - running - Default value. Specifies that the animation is running\n   * - initial - Sets this property to its default value.\n   * - inherit - Inherits this property from its parent element.\n   * */\n  playState?: string;\n\n  /**\n   * Specifies the speed curve of the animation. It can have the following values:\n   * - ease - Specifies an animation with a slow start, then fast, then end slowly (this is default)\n   * - linear - Specifies an animation with the same speed from start to end\n   * - ease-in - Specifies an animation with a slow start\n   * - ease-out - Specifies an animation with a slow end\n   * - ease-in-out - Specifies an animation with a slow start and end\n   * - cubic-bezier(n,n,n,n) - Lets you define your own values in a cubic-bezier function\n   */\n  timingFunction?: string;\n\n  /** Show the component; triggers the enter or exit animation. */\n  visible?: boolean;\n\n  /** Run the enter animation when the component mounts, if it is initially shown. */\n  appear?: boolean;\n\n  /** Wait until the first \"enter\" transition to mount the component (add it to the DOM). */\n  mountOnEnter?: boolean;\n\n  /** Unmount the component (remove it from the DOM) when it is not shown. */\n  unmountOnExit?: boolean;\n\n  /** The duration of the transition, in milliseconds. */\n  timeout?: number | { enter?: number; exit?: number; appear?: number };\n\n  /**\n   * Callback fired before the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEnter?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntering?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entered\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntered?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExit?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExiting?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExited?: ComponentEventHandler<AnimationProps>;\n}\n\n/**\n * An Animation provides animation effects to rendered elements.\n */\nexport const Animation = React.forwardRef<HTMLDivElement, AnimationProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Animation.displayName, context.telemetry);\n  setStart();\n\n  const { appear, children, className, mountOnEnter, timeout, visible, unmountOnExit } = props;\n\n  const handleAnimationEvent = (\n    event: 'onEnter' | 'onEntering' | 'onEntered' | 'onExit' | 'onExiting' | 'onExited',\n  ) => () => {\n    _.invoke(props, event, null, props);\n  };\n\n  const { className: animationClasses, animationDuration, animationDelay } = useAnimationStyles(\n    Animation.displayName,\n    props,\n  );\n  const timeoutResult = timeout || calculateAnimationTimeout(animationDuration, animationDelay) || 0;\n\n  const unhandledProps = useUnhandledProps(Animation.handledProps, props);\n\n  const nodeRef = React.useRef();\n  const mergedRef = useMergedRefs(ref, nodeRef);\n\n  if (_.isNil(children)) {\n    setEnd();\n    return null;\n  }\n\n  const isChildrenFunction = typeof children === 'function';\n  const child = childrenExist(children) && !isChildrenFunction && (React.Children.only(children) as React.ReactElement);\n\n  const element = (\n    <Transition\n      nodeRef={nodeRef}\n      in={visible}\n      appear={appear}\n      mountOnEnter={mountOnEnter}\n      unmountOnExit={unmountOnExit}\n      timeout={timeoutResult}\n      onEnter={handleAnimationEvent('onEnter')}\n      onEntering={handleAnimationEvent('onEntering')}\n      onEntered={handleAnimationEvent('onEntered')}\n      onExit={handleAnimationEvent('onExit')}\n      onExiting={handleAnimationEvent('onExiting')}\n      onExited={handleAnimationEvent('onExited')}\n      {...unhandledProps}\n      className={!isChildrenFunction ? cx(animationClasses, className, (child as any)?.props?.className) : ''}\n    >\n      {isChildrenFunction ? (\n        ({ state }) => {\n          const childWithClasses = (children as AnimationChildrenProp)({\n            classes: cx(animationClasses, className, (child as any)?.props?.className),\n            state,\n          }) as React.ReactElement;\n          return childWithClasses ? <Ref innerRef={mergedRef}>{childWithClasses}</Ref> : childWithClasses;\n        }\n      ) : (\n        <Ref innerRef={mergedRef}>\n          {React.cloneElement(child, { className: cx(animationClasses, className, (child as any)?.props?.className) })}\n        </Ref>\n      )}\n    </Transition>\n  );\n  setEnd();\n\n  return element;\n}) as ForwardRefComponent<AnimationProps>;\n\nAnimation.displayName = 'Animation';\n\nAnimation.propTypes = {\n  ...commonPropTypes.createCommon({\n    accessibility: false,\n    as: false,\n    content: false,\n    children: false,\n  }),\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  name: PropTypes.string,\n  delay: PropTypes.string,\n  direction: PropTypes.string,\n  duration: PropTypes.string,\n  fillMode: PropTypes.string,\n  iterationCount: PropTypes.string,\n  keyframeParams: PropTypes.object,\n  playState: PropTypes.string,\n  timingFunction: PropTypes.string,\n  visible: PropTypes.bool,\n  appear: PropTypes.bool,\n  mountOnEnter: PropTypes.bool,\n  unmountOnExit: PropTypes.bool,\n  timeout: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.shape({\n      appear: PropTypes.number,\n      enter: PropTypes.number,\n      exit: PropTypes.number,\n    }),\n  ]),\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func,\n};\nAnimation.handledProps = Object.keys(Animation.propTypes) as any;\n"],"mappings":"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"}