{"version":3,"file":"TableRow.js","names":["tableRowBehavior","getElementType","mergeVariablesOverrides","useAccessibility","useStyles","useTelemetry","useUnhandledProps","useFluentContext","Ref","customPropTypes","PropTypes","React","childrenExist","commonPropTypes","createShorthandFactory","TableCell","tableRowClassName","TableRow","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","rowRef","useRef","className","design","styles","items","header","compact","children","accessibility","variables","selected","hasChildren","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","unsetRowTabbable","e","current","setAttribute","performClick","currentTarget","target","preventDefault","mapPropsToBehavior","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","renderCells","item","create","defaultProps","overrideProps","predefinedProps","element","unstable_wrapWithFocusZone","root","propTypes","createCommon","content","collectionShorthand","bool","Object","keys","Component","mappedArrayProp"],"sources":["components/Table/TableRow.tsx"],"sourcesContent":["import { Accessibility, tableRowBehavior, GridRowBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  useFluentContext,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { FluentComponentStaticProps, ShorthandCollection } from '../../types';\nimport { childrenExist, commonPropTypes, createShorthandFactory, UIComponentProps } from '../../utils';\nimport { TableCell, TableCellProps } from './TableCell';\n\nexport interface TableRowProps extends UIComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * */\n  accessibility?: Accessibility<GridRowBehaviorProps>;\n\n  /**\n   * Row cells\n   */\n  items?: ShorthandCollection<TableCellProps>;\n\n  /**\n   * Is the row a table header\n   */\n  header?: boolean;\n\n  /**\n   * Render table in compact mode\n   */\n  compact?: boolean;\n\n  /**\n   * Whether a row is currently selected or not.\n   */\n  selected?: boolean;\n}\n\nexport const tableRowClassName = 'ui-table__row';\n\nexport type TableRowStylesProps = Pick<TableRowProps, 'header' | 'compact'>;\n\n/**\n * Component represents a single row in a tabular structure\n */\nexport const TableRow = (React.forwardRef<HTMLDivElement, TableRowProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableRow.displayName, context.telemetry);\n  setStart();\n  const rowRef = React.useRef<HTMLElement>();\n  const { className, design, styles, items, header, compact, children, accessibility, variables, selected } = props;\n\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableRow.handledProps, props);\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: TableRow.displayName,\n    actionHandlers: {\n      // https://github.com/microsoft/fluent-ui-react/issues/2150\n      unsetRowTabbable: e => {\n        rowRef.current.setAttribute('tabindex', '-1');\n      },\n      performClick: e => {\n        if (e.currentTarget === e.target) {\n          _.invoke(props, 'onClick', e, props);\n          e.preventDefault();\n        }\n      },\n    },\n    mapPropsToBehavior: () => ({\n      selected,\n      header,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TableRowStylesProps>(TableRow.displayName, {\n    className: tableRowClassName,\n    mapPropsToStyles: () => ({\n      header,\n      compact,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderCells = () => {\n    return _.map(items, (item: TableCellProps) => {\n      return TableCell.create(item, {\n        defaultProps: () => getA11yProps('cell', {}),\n        overrideProps: predefinedProps => ({\n          variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n        }),\n      });\n    });\n  };\n\n  const element = (\n    <Ref innerRef={rowRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            ref,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren && children}\n          {!hasChildren && renderCells()}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, TableRowProps> & FluentComponentStaticProps<TableRowProps>;\n\nTableRow.displayName = 'TableRow';\n\nTableRow.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: customPropTypes.collectionShorthand,\n  header: PropTypes.bool,\n  compact: PropTypes.bool,\n  selected: PropTypes.bool,\n};\n\nTableRow.handledProps = Object.keys(TableRow.propTypes) as any;\n\nTableRow.defaultProps = {\n  accessibility: tableRowBehavior,\n};\n\nTableRow.create = createShorthandFactory({ Component: TableRow, mappedArrayProp: 'items' });\n"],"mappings":"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"}