{"version":3,"file":"RadioGroupItem.js","names":["radioGroupItemBehavior","Ref","customPropTypes","React","PropTypes","createShorthandFactory","commonPropTypes","shouldPreventDefaultOnKeyDown","Box","useAutoControlled","getElementType","useAccessibility","useFluentContext","useStyles","useTelemetry","useUnhandledProps","RadioButtonIcon","radioGroupItemClassName","radioGroupItemSlotClassNames","indicator","label","RadioGroupItem","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","checkedIndicator","disabled","vertical","className","design","styles","variables","shouldFocus","elementRef","useRef","ElementType","unhandledProps","handledProps","defaultValue","defaultChecked","value","checked","initialValue","setChecked","prevChecked","handleClick","e","useEffect","current","undefined","focus","mapPropsToStyles","mapPropsToInlineStyles","rtl","classes","resolvedStyles","getA11yProps","accessibility","debugName","actionHandlers","performClick","preventDefault","mapPropsToBehavior","handleChange","element","unstable_wrapWithFocusZone","root","onClick","onChange","create","defaultProps","as","propTypes","createCommon","content","bool","shorthandAllowingChildren","itemShorthand","name","string","func","oneOfType","number","Object","keys","Component","mappedProp"],"sources":["components/RadioGroup/RadioGroupItem.tsx"],"sourcesContent":["import { Accessibility, radioGroupItemBehavior, RadioGroupItemBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\nimport {\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  shouldPreventDefaultOnKeyDown,\n} from '../../utils';\nimport { Box, BoxProps } from '../Box/Box';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport {\n  useAutoControlled,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { RadioButtonIcon } from '@fluentui/react-icons-northstar';\n\nexport interface RadioGroupItemSlotClassNames {\n  indicator: string;\n  label: string;\n}\n\nexport interface RadioGroupItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<RadioGroupItemBehaviorProps>;\n\n  /** Whether or not radio item is checked. */\n  checked?: boolean;\n\n  /**\n   * Called after radio item checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** The label of the radio item. */\n  label?: ShorthandValue<BoxProps>;\n\n  /** Initial checked value. */\n  defaultChecked?: boolean;\n\n  /** A radio item can appear disabled and be unable to change states. */\n  disabled?: boolean;\n\n  /** The radio item indicator can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** The checked radio item indicator can be customized. */\n  checkedIndicator?: ShorthandValue<BoxProps>;\n\n  /** The HTML input name. */\n  name?: string;\n\n  /**\n   * Called after radio item is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** Whether should focus when checked */\n  shouldFocus?: boolean; // TODO: RFC #306\n\n  /** The HTML input value. */\n  value?: string | number;\n\n  /** A vertical radio group displays elements vertically. */\n  vertical?: boolean;\n}\n\nexport const radioGroupItemClassName = 'ui-radiogroup__item';\nexport const radioGroupItemSlotClassNames: RadioGroupItemSlotClassNames = {\n  indicator: `${radioGroupItemClassName}__indicator`,\n  label: `${radioGroupItemClassName}__label`,\n};\n\nexport type RadioGroupItemStylesProps = Required<Pick<RadioGroupItemProps, 'disabled' | 'vertical' | 'checked'>>;\n\n/**\n * A RadioGroupItem represents single input element within a RadioGroup.\n *\n * @accessibility\n * Radio items need to be grouped to correctly handle accessibility.\n */\nexport const RadioGroupItem = (React.forwardRef<HTMLDivElement, RadioGroupItemProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(RadioGroupItem.displayName, context.telemetry);\n  setStart();\n  const {\n    label,\n    checkedIndicator,\n    indicator,\n    disabled,\n    vertical,\n    className,\n    design,\n    styles,\n    variables,\n    shouldFocus,\n  } = props;\n  const elementRef = React.useRef<HTMLElement>();\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(RadioGroupItem.handledProps, props);\n\n  const [checked, setChecked] = useAutoControlled({\n    defaultValue: props.defaultChecked,\n    value: props.checked,\n    initialValue: false,\n  });\n\n  const prevChecked = React.useRef<boolean>(checked);\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    _.invoke(props, 'onClick', e, props);\n    setChecked(prevChecked => {\n      return !prevChecked;\n    });\n  };\n\n  // This behavior is not conformant with native input radio, it was added to avoid breaking change\n  // and it should be fixed to be conformant with native, only calling onChange when item is clicked (checked will always be true)\n  React.useEffect(() => {\n    if (prevChecked.current !== checked) {\n      _.invoke(props, 'onChange', undefined, { ...props, checked });\n      prevChecked.current = checked;\n    }\n  });\n\n  React.useEffect(() => {\n    if (checked && shouldFocus) elementRef.current.focus();\n  }, [checked, shouldFocus]);\n\n  const { classes, styles: resolvedStyles } = useStyles<RadioGroupItemStylesProps>(RadioGroupItem.displayName, {\n    className: radioGroupItemClassName,\n    mapPropsToStyles: () => ({\n      vertical,\n      disabled,\n      checked,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const getA11yProps = useAccessibility<RadioGroupItemBehaviorProps>(props.accessibility, {\n    debugName: RadioGroupItem.displayName,\n    actionHandlers: {\n      performClick: e => {\n        if (shouldPreventDefaultOnKeyDown(e)) {\n          e.preventDefault();\n        }\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      checked,\n      disabled,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleChange = (e: React.ChangeEvent) => {\n    // RadioGroupItem component doesn't present any `input` component in markup, however all of our\n    // components should handle events transparently.\n    _.invoke(props, 'onChange', e, { ...props, checked });\n  };\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <Ref innerRef={elementRef}>\n      <ElementType\n        {...getA11yProps('root', {\n          className: classes.root,\n          onClick: handleClick,\n          onChange: handleChange,\n          ref,\n          ...unhandledProps,\n        })}\n      >\n        {Box.create(checked ? checkedIndicator : indicator, {\n          defaultProps: () => ({\n            className: radioGroupItemSlotClassNames.indicator,\n            styles: resolvedStyles.indicator,\n          }),\n        })}\n        {Box.create(label, {\n          defaultProps: () => ({\n            as: 'span',\n            className: radioGroupItemSlotClassNames.label,\n            styles: resolvedStyles.label,\n          }),\n        })}\n      </ElementType>\n    </Ref>,\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, RadioGroupItemProps> &\n  FluentComponentStaticProps<RadioGroupItemProps>;\n\nRadioGroupItem.displayName = 'RadioGroupItem';\n\nRadioGroupItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  checked: PropTypes.bool,\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n  checkedIndicator: customPropTypes.shorthandAllowingChildren,\n  label: customPropTypes.itemShorthand,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  onChange: PropTypes.func,\n  shouldFocus: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  vertical: PropTypes.bool,\n};\n\nRadioGroupItem.defaultProps = {\n  accessibility: radioGroupItemBehavior,\n  indicator: <RadioButtonIcon outline />,\n  checkedIndicator: <RadioButtonIcon />,\n};\n\nRadioGroupItem.handledProps = Object.keys(RadioGroupItem.propTypes) as any;\n\nRadioGroupItem.create = createShorthandFactory({ Component: RadioGroupItem, mappedProp: 'label' });\n"],"mappings":"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"}