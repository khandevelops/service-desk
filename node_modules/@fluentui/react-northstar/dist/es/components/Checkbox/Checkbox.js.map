{"version":3,"file":"Checkbox.js","names":["checkboxBehavior","getElementType","useUnhandledProps","useAccessibility","useStateManager","useFluentContext","useStyles","useTelemetry","customPropTypes","createCheckboxManager","PropTypes","React","createShorthandFactory","commonPropTypes","Box","Text","checkboxClassName","checkboxSlotClassNames","label","indicator","Checkbox","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","checked","className","defaultChecked","design","disabled","labelPosition","styles","toggle","variables","mapPropsToInitialState","mapPropsToState","state","actions","getA11Props","accessibility","debugName","mapPropsToBehavior","actionHandlers","performClick","e","preventDefault","handleClick","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","ElementType","unhandledProps","handledProps","handleChange","labelElement","create","defaultProps","element","root","onClick","onChange","checkbox","propTypes","createCommon","content","oneOf","bool","shorthandAllowingChildren","itemShorthand","func","Object","keys","Component","mappedProp"],"sources":["components/Checkbox/Checkbox.tsx"],"sourcesContent":["import { Accessibility, checkboxBehavior, CheckboxBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useStateManager,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { createCheckboxManager } from '@fluentui/state';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { createShorthandFactory, ChildrenComponentProps, commonPropTypes, UIComponentProps } from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport { Text, TextProps } from '../Text/Text';\nimport { SupportedIntrinsicInputProps } from '../../utils/htmlPropsUtils';\n\nexport interface CheckboxSlotClassNames {\n  label: string;\n  indicator: string;\n}\n\nexport interface CheckboxProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<CheckboxBehaviorProps>;\n\n  /** A checkbox can be checked by default. */\n  defaultChecked?: SupportedIntrinsicInputProps['defaultChecked'];\n\n  /** A checkbox's checked state can be controlled. */\n  checked?: SupportedIntrinsicInputProps['checked'] | 'mixed';\n\n  /** A checkbox can appear disabled and be unable to change states. */\n  disabled?: SupportedIntrinsicInputProps['disabled'];\n\n  /** A checkbox's indicator icon can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** A checkbox can render a label next to its indicator. */\n  label?: ShorthandValue<TextProps>;\n\n  /** A checkbox's label can be rendered in different positions. */\n  labelPosition?: 'start' | 'end';\n\n  /**\n   * Called after a checkbox's checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /**\n   * Called after a checkbox is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /** A checkbox can be formatted to show an \"on or off\" choice. */\n  toggle?: boolean;\n}\n\nexport type CheckboxStylesProps = Pick<CheckboxProps, 'checked' | 'disabled' | 'labelPosition' | 'toggle'>;\nexport const checkboxClassName = 'ui-checkbox';\nexport const checkboxSlotClassNames: CheckboxSlotClassNames = {\n  label: `${checkboxClassName}__label`,\n  indicator: `${checkboxClassName}__indicator`,\n};\n\n/**\n * A Checkbox allows a user to make a choice between two mutually exclusive options.\n *\n * @accessibility\n * Implements [ARIA Checkbox](https://www.w3.org/TR/wai-aria-practices-1.1/#checkbox) design pattern.\n */\nexport const Checkbox = (React.forwardRef<HTMLDivElement, CheckboxProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Checkbox.displayName, context.telemetry);\n  setStart();\n\n  const {\n    checked,\n    className,\n    defaultChecked,\n    design,\n    disabled,\n    label,\n    labelPosition,\n    indicator,\n    styles,\n    toggle,\n    variables,\n  } = props;\n\n  const { state, actions } = useStateManager(createCheckboxManager, {\n    mapPropsToInitialState: () => ({ checked: defaultChecked }),\n    mapPropsToState: () => ({ checked: checked === 'mixed' ? false : checked }),\n  });\n\n  const getA11Props = useAccessibility(props.accessibility, {\n    debugName: Checkbox.displayName,\n    mapPropsToBehavior: () => ({\n      checked: state.checked,\n      disabled,\n    }),\n    actionHandlers: {\n      performClick: (e: React.KeyboardEvent) => {\n        e.preventDefault();\n        handleClick(e);\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<CheckboxStylesProps>(Checkbox.displayName, {\n    className: checkboxClassName,\n    mapPropsToStyles: () => ({\n      checked: checked === 'mixed' ? 'mixed' : state.checked,\n      disabled,\n      labelPosition,\n      toggle,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Checkbox.handledProps, props);\n\n  const handleChange = (e: React.ChangeEvent) => {\n    if (!disabled) {\n      // Checkbox component doesn't present any `input` component in markup, however all of our\n      // components should handle events transparently.\n      const checked = !state.checked;\n\n      actions.toggle(checked);\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (!disabled) {\n      const checked = !state.checked;\n      actions.toggle(checked);\n\n      _.invoke(props, 'onClick', e, { ...props, checked });\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const labelElement = Text.create(label, {\n    defaultProps: () =>\n      getA11Props('label', {\n        styles: resolvedStyles.label,\n        className: checkboxSlotClassNames.label,\n      }),\n  });\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        onChange: handleChange,\n        ref,\n        ...unhandledProps,\n      })}\n    >\n      {labelPosition === 'start' && labelElement}\n      {Box.create(indicator, {\n        defaultProps: () =>\n          getA11Props('indicator', {\n            className: checkboxSlotClassNames.indicator,\n            styles: toggle ? resolvedStyles.toggle : resolvedStyles.checkbox,\n          }),\n      })}\n      {labelPosition === 'end' && labelElement}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, CheckboxProps> & FluentComponentStaticProps<CheckboxProps>;\n\nCheckbox.displayName = 'Checkbox';\n\nCheckbox.defaultProps = {\n  accessibility: checkboxBehavior,\n  indicator: {},\n  labelPosition: 'end',\n};\nCheckbox.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  checked: PropTypes.oneOf<true | false | 'mixed'>([true, false, 'mixed']),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n  label: customPropTypes.itemShorthand,\n  labelPosition: PropTypes.oneOf<'start' | 'end'>(['start', 'end']),\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n  toggle: PropTypes.bool,\n};\nCheckbox.handledProps = Object.keys(Checkbox.propTypes) as any;\n\nCheckbox.create = createShorthandFactory({\n  Component: Checkbox,\n  mappedProp: 'label',\n});\n"],"mappings":"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"}