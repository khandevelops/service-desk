{"version":3,"file":"FlexItem.js","names":["useStyles","useTelemetry","useFluentContext","mergeStyles","cx","PropTypes","React","commonPropTypes","applyStyles","element","styles","classes","type","cloneElement","className","props","root","flexItemClassName","FlexItem","context","displayName","telemetry","setStart","setEnd","align","children","design","grow","flexDirection","push","shrink","size","variables","mapPropsToStyles","mapPropsToInlineStyles","rtl","resolvedStyles","Children","only","propTypes","createCommon","accessibility","content","oneOfType","func","oneOf","string","bool","number","__isFlexItem"],"sources":["components/Flex/FlexItem.tsx"],"sourcesContent":["import { ComponentSlotClasses, useStyles, useTelemetry, useFluentContext } from '@fluentui/react-bindings';\nimport { ComponentSlotStylesPrepared, ComponentSlotStylesResolved, mergeStyles } from '@fluentui/styles';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { commonPropTypes, UIComponentProps, ChildrenComponentProps } from '../../utils';\n\ntype ChildrenFunction = (params: { styles: ComponentSlotStylesPrepared; classes: string }) => React.ReactElement;\n\nexport type FlexItemChildren = React.ReactElement | ChildrenFunction;\n\nexport interface FlexItemProps extends UIComponentProps, ChildrenComponentProps<FlexItemChildren> {\n  /** Controls item's alignment. */\n  align?: 'auto' | 'start' | 'end' | 'center' | 'baseline' | 'stretch';\n\n  /** Defines size of the item. */\n  size?: 'size.half' | 'size.quarter' | 'size.small' | 'size.medium' | 'size.large' | string;\n\n  /**\n   * Item can fill remaining space of the container.\n   * If numeric value is provided, remaining space will be distributed proportionally between all the items.\n   * */\n  grow?: boolean | number;\n\n  /**\n   * Controls item's ability to shrink.\n   * */\n  shrink?: boolean | number;\n\n  /**\n   * Item can be pushed towards opposite side in the container's direction.\n   */\n  push?: boolean;\n\n  /**\n   * IGNORE (will be refactored and not exposed via API).\n   * Value is automatically set by parent Flex component.\n   */\n  flexDirection?: 'row' | 'column';\n}\n\nexport type FlexItemStylesProps = Pick<FlexItemProps, 'align' | 'grow' | 'flexDirection' | 'push' | 'shrink' | 'size'>;\n\nconst applyStyles = (\n  element: React.ReactElement,\n  styles: ComponentSlotStylesResolved,\n  classes: ComponentSlotClasses,\n): React.ReactElement => {\n  if (!styles) {\n    return element;\n  }\n\n  // if element is DOM element\n  if (typeof element.type === 'string') {\n    return React.cloneElement(element, {\n      className: cx(element.props.className, classes.root),\n    });\n  }\n\n  // assuming element is Fluent UI element\n  return React.cloneElement(element, {\n    styles: mergeStyles(styles.root || {}, element.props.styles),\n  });\n};\n\nexport const flexItemClassName = 'ui-flex__item';\n\n/**\n * A FlexItem is a layout component that customizes alignment of Flex child.\n */\nexport const FlexItem: React.FC<FlexItemProps> & { __isFlexItem: boolean } = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(FlexItem.displayName, context.telemetry);\n  setStart();\n\n  const { align, children, className, design, grow, flexDirection, push, shrink, size, styles, variables } = props;\n\n  const { classes, styles: resolvedStyles } = useStyles<FlexItemStylesProps>(FlexItem.displayName, {\n    className: flexItemClassName,\n    mapPropsToStyles: () => ({\n      align,\n      grow,\n      flexDirection,\n      push,\n      shrink,\n      size,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  let element: React.ReactElement;\n\n  // pass calculated bits using Render Props pattern\n  if (typeof children === 'function') {\n    element = children({\n      styles: resolvedStyles.root as ComponentSlotStylesPrepared,\n      classes: classes.root,\n    });\n  } else if (_.isNil(children)) {\n    element = null;\n  } else {\n    element = applyStyles(React.Children.only(children) as React.ReactElement, resolvedStyles, classes);\n  }\n\n  setEnd();\n\n  return element;\n};\n\nFlexItem.displayName = 'FlexItem';\n\nFlexItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    children: false,\n    accessibility: false,\n    content: false,\n  }),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  align: PropTypes.oneOf(['auto', 'start', 'end', 'center', 'baseline', 'stretch']),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['size.half', 'size.quarter', 'size.small', 'size.medium', 'size.large']),\n    PropTypes.string,\n  ]),\n  shrink: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n\n  push: PropTypes.bool,\n\n  /**\n   * Will be automatically set by parent Flex component\n   */\n  flexDirection: PropTypes.oneOf(['row', 'column']),\n};\n\n// Boolean flag for now, Symbol-based approach may be used instead.\n// However, there are  concerns related to browser compatibility if Symbols will be used.\n// Completely alternative approach - check class name of React element (and generalize this logic).\nFlexItem.__isFlexItem = true;\n"],"mappings":"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"}