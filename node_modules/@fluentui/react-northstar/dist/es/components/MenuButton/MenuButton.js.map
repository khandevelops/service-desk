{"version":3,"file":"MenuButton.js","names":["React","PropTypes","menuButtonBehavior","Ref","customPropTypes","commonPropTypes","getOrGenerateIdFromShorthand","createShorthandFactory","Popup","Menu","focusMenuItem","ALIGNMENTS","POSITIONS","AUTOSIZES","useAccessibility","useTelemetry","getElementType","useUnhandledProps","useFluentContext","useAutoControlled","useStyles","useOnIFrameFocus","menuButtonClassName","menuButtonSlotClassNames","menu","MenuButton","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","contextMenu","accessibility","align","className","defaultOpen","flipBoundary","mountNode","mouseLeaveDelay","offset","on","onOpenChange","overflowBoundary","pointing","popperRef","position","positionFixed","tabbableTrigger","target","trigger","unstable_disableTether","unstable_pinned","autoSize","variables","defaultValue","value","open","initialValue","setOpen","e","__","menuId","useRef","current","triggerId","triggerRef","menuRef","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","closeMenu","openAndFocusFirst","openAndFocus","openAndFocusLast","mapPropsToBehavior","rtl","popupProps","mapPropsToInlineStyles","styles","classes","resolvedStyles","handleOpenChange","which","preventDefault","callback","handleMenuOverrides","predefinedProps","onItemClick","itemProps","onKeyDown","key","stopPropagation","content","create","defaultProps","vertical","overrideProps","unstable_behaviorDefinition","popupContent","children","undefined","trapFocus","inline","autoFocus","popup","element","unstable_wrapWithFocusZone","root","propTypes","createCommon","oneOf","bool","domNode","number","oneOfType","func","arrayOf","object","onMenuItemClick","any","every","disallow","itemShorthandWithoutJSX","Object","keys","Component","mappedProp"],"sources":["components/MenuButton/MenuButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\nimport { Accessibility, menuButtonBehavior, MenuButtonBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\n\nimport { commonPropTypes, StyledComponentProps, getOrGenerateIdFromShorthand } from '../../utils';\nimport { ShorthandValue, ComponentEventHandler, ShorthandCollection, FluentComponentStaticProps } from '../../types';\n\nimport { createShorthandFactory } from '../../utils/factories';\nimport { Popup, PopupProps, PopupEvents, PopupEventsArray } from '../Popup/Popup';\nimport { Menu, MenuProps } from '../Menu/Menu';\nimport { MenuItemProps } from '../Menu/MenuItem';\nimport { focusMenuItem } from './focusUtils';\nimport { ALIGNMENTS, POSITIONS, PositioningProps, AutoSize, AUTOSIZES } from '../../utils/positioner';\nimport {\n  useAccessibility,\n  useTelemetry,\n  getElementType,\n  useUnhandledProps,\n  useFluentContext,\n  useAutoControlled,\n  useStyles,\n  useOnIFrameFocus,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface MenuButtonSlotClassNames {\n  menu: string;\n}\n\nexport interface MenuButtonProps extends StyledComponentProps<MenuButtonProps>, PositioningProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @default menuButtonBehavior\n   */\n  accessibility?: Accessibility<MenuButtonBehaviorProps>;\n\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** Initial value for 'open'. */\n  defaultOpen?: boolean;\n\n  /** Existing element the popup should be bound to. */\n  mountNode?: HTMLElement;\n\n  /** Delay in ms for the mouse leave event, before the popup will be closed. */\n  mouseLeaveDelay?: number;\n\n  /** Events triggering the popup. */\n  on?: PopupEvents | PopupEventsArray;\n\n  /** Defines whether popup is displayed. */\n  open?: boolean;\n\n  /**\n   * Called after user's click on a menu item.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onMenuItemClick?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Event for request to change 'open' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onOpenChange?: ComponentEventHandler<PopupProps>;\n\n  /** A popup can show a pointer to trigger. */\n  pointing?: boolean;\n\n  /**\n   * DOM element that should be used as popup's target - instead of 'trigger' element that is used by default.\n   */\n  target?: HTMLElement;\n\n  /** Element to be rendered in-place where the popup is defined. */\n  trigger?: JSX.Element;\n\n  /** Whether the trigger should be tabbable */\n  tabbableTrigger?: boolean;\n\n  /** Shorthand for menu configuration */\n  menu?: ShorthandValue<MenuProps> | ShorthandCollection<MenuItemProps>;\n\n  /** Determines if the MenuButton behaves as context menu */\n  contextMenu?: boolean;\n}\n\nexport interface MenuButtonState {\n  open: boolean;\n  menuId: string;\n  triggerId: string;\n}\n\nexport const menuButtonClassName = 'ui-menubutton';\nexport const menuButtonSlotClassNames: MenuButtonSlotClassNames = {\n  menu: `${menuButtonClassName}__menu`,\n};\n\nexport type MenuButtonStylesProps = never;\n\n/**\n * A MenuButton displays a menu connected to trigger element.\n * @accessibility\n */\nexport const MenuButton = (React.forwardRef<HTMLDivElement, MenuButtonProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(MenuButton.displayName, context.telemetry);\n  setStart();\n\n  const {\n    // MenuButton props:\n    contextMenu,\n    menu,\n    // Popup props:\n    accessibility,\n    align,\n    className,\n    defaultOpen,\n    flipBoundary,\n    mountNode,\n    mouseLeaveDelay,\n    offset,\n    on,\n    onOpenChange,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n    variables,\n  } = props;\n\n  const [open, setOpen] = useAutoControlled({\n    defaultValue: props.defaultOpen,\n    value: props.open,\n    initialValue: false,\n  });\n\n  useOnIFrameFocus(open, context.target, (e: Event) => {\n    setOpen(__ => {\n      _.invoke(props, 'onOpenChange', e, { ...props, ...{ open: false } });\n      return false;\n    });\n  });\n\n  const menuId = React.useRef<string>();\n  menuId.current = getOrGenerateIdFromShorthand('menubutton-menu-', menu, menuId.current);\n  const triggerId = React.useRef<string>();\n  triggerId.current = getOrGenerateIdFromShorthand('menubutton-trigger-', trigger, triggerId.current);\n\n  const triggerRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(MenuButton.handledProps, props);\n\n  const getA11yProps = useAccessibility<MenuButtonBehaviorProps>(accessibility, {\n    debugName: MenuButton.displayName,\n    actionHandlers: {\n      closeMenu: e => closeMenu(e),\n      openAndFocusFirst: e => openAndFocus(e, 'first'),\n      openAndFocusLast: e => openAndFocus(e, 'last'),\n    },\n    mapPropsToBehavior: () => ({\n      menuId: menuId.current,\n      triggerId: triggerId.current,\n      open,\n      trigger: props.trigger,\n      contextMenu,\n      on,\n      tabbableTrigger,\n    }),\n    rtl: context.rtl,\n  });\n\n  const popupProps: PopupProps = {\n    accessibility,\n    align,\n    defaultOpen,\n    mountNode,\n    mouseLeaveDelay,\n    flipBoundary,\n    offset,\n    on,\n    onOpenChange,\n    open,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n  };\n\n  const { classes, styles: resolvedStyles } = useStyles<MenuButtonStylesProps>(MenuButton.displayName, {\n    className: menuButtonClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      styles: props.styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const closeMenu = (e: React.KeyboardEvent) => {\n    handleOpenChange(e, false);\n  };\n\n  const openAndFocus = (e: React.KeyboardEvent, which: 'first' | 'last') => {\n    e.preventDefault();\n    handleOpenChange(e, true, () => menuRef.current && focusMenuItem(menuRef.current, which));\n  };\n\n  const handleOpenChange = (e: React.SyntheticEvent, open: boolean, callback?: () => void) => {\n    _.invoke(props, 'onOpenChange', e, { ...props, open });\n    setOpen(open);\n    callback && callback();\n  };\n\n  const handleMenuOverrides = (predefinedProps: MenuProps) => ({\n    onItemClick: (e: React.SyntheticEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      _.invoke(props, 'onMenuItemClick', e, itemProps);\n      if (!itemProps || !itemProps.menu) {\n        // do not close if clicked on item with submenu\n        handleOpenChange(e, false);\n      }\n    },\n    onKeyDown: (e: React.KeyboardEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onKeyDown', e, itemProps);\n      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        e.stopPropagation();\n      }\n    },\n  });\n\n  const content = Menu.create(menu, {\n    defaultProps: () =>\n      getA11yProps('menu', {\n        vertical: true,\n        className: menuButtonSlotClassNames.menu,\n      }),\n    overrideProps: handleMenuOverrides,\n  });\n\n  const overrideProps: PopupProps = {\n    accessibility: getA11yProps.unstable_behaviorDefinition,\n    open,\n    onOpenChange: (e, { open }) => {\n      handleOpenChange(e, open);\n    },\n    content: {\n      styles: resolvedStyles.popupContent,\n      content: content && <Ref innerRef={menuRef}>{content}</Ref>,\n    },\n    children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger\n    ...(contextMenu\n      ? {\n          on: 'context',\n          trapFocus: true,\n          tabbableTrigger: false,\n        }\n      : {\n          inline: true,\n          autoFocus: true,\n        }),\n  };\n\n  const popup = Popup.create(popupProps, { overrideProps });\n\n  if (contextMenu) {\n    setEnd();\n    return popup;\n  }\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        ref,\n        className: classes.root,\n        ...unhandledProps,\n      })}\n    >\n      <Ref innerRef={triggerRef}>{popup}</Ref>\n    </ElementType>,\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, MenuButtonProps> &\n  FluentComponentStaticProps<MenuButtonProps>;\n\nMenuButton.displayName = 'MenuButton';\n\nMenuButton.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  align: PropTypes.oneOf(ALIGNMENTS),\n  defaultOpen: PropTypes.bool,\n  mountNode: customPropTypes.domNode,\n  mouseLeaveDelay: PropTypes.number,\n  offset: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.arrayOf(PropTypes.number) as PropTypes.Requireable<[number, number]>,\n  ]),\n  on: PropTypes.oneOfType([\n    PropTypes.oneOf(['hover', 'click', 'focus', 'context']),\n    PropTypes.arrayOf(PropTypes.oneOf(['click', 'focus', 'context'])),\n    PropTypes.arrayOf(PropTypes.oneOf(['hover', 'focus', 'context'])),\n  ]) as any,\n  flipBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  overflowBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  open: PropTypes.bool,\n  onMenuItemClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  popperRef: customPropTypes.ref,\n  position: PropTypes.oneOf(POSITIONS),\n  positionFixed: PropTypes.bool,\n  target: PropTypes.any,\n  trigger: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.any]),\n  tabbableTrigger: PropTypes.bool,\n  unstable_disableTether: PropTypes.oneOf([true, false, 'all']),\n  unstable_pinned: PropTypes.bool,\n  autoSize: PropTypes.oneOf<AutoSize>(AUTOSIZES),\n  menu: PropTypes.oneOfType([\n    customPropTypes.itemShorthandWithoutJSX,\n    PropTypes.arrayOf(customPropTypes.itemShorthandWithoutJSX),\n  ]),\n  contextMenu: PropTypes.bool,\n};\n\nMenuButton.defaultProps = {\n  accessibility: menuButtonBehavior,\n  align: 'start',\n  position: 'below',\n};\n\nMenuButton.handledProps = Object.keys(MenuButton.propTypes) as any;\n\nMenuButton.create = createShorthandFactory({ Component: MenuButton, mappedProp: 'menu' });\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,SAAS,MAAM,YAAY;AAEvC,SAAwBC,kBAAkB,QAAiC,yBAAyB;AACpG,SAASC,GAAG,QAAQ,+BAA+B;AACnD,OAAO,KAAKC,eAAe,MAAM,2BAA2B;AAE5D,SAASC,eAAe,EAAwBC,4BAA4B,QAAQ,aAAa;AAGjG,SAASC,sBAAsB,QAAQ,uBAAuB;AAC9D,SAASC,KAAK,QAAmD,gBAAgB;AACjF,SAASC,IAAI,QAAmB,cAAc;AAE9C,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,UAAU,EAAEC,SAAS,EAA8BC,SAAS,QAAQ,wBAAwB;AACrG,SACEC,gBAAgB,EAChBC,YAAY,EACZC,cAAc,EACdC,iBAAiB,EACjBC,gBAAgB,EAChBC,iBAAiB,EACjBC,SAAS,EACTC,gBAAgB,QAEX,0BAA0B;AAyEjC,OAAO,IAAMC,mBAAmB,GAAG,eAAe;AAClD,OAAO,IAAMC,wBAAkD,GAAG;EAChEC,IAAI,EAAKF,mBAAmB;AAC9B,CAAC;AAID;AACA;AACA;AACA;AACA,OAAO,IAAMG,UAAU;EAAA,IAAVA,UAAU,gBAAIzB,KAAK,CAAC0B,UAAU,CAAkC,UAACC,KAAK,EAAEC,GAAG,EAAK;IAC3F,IAAMC,OAAO,GAAGX,gBAAgB,EAAE;IAClC,oBAA6BH,YAAY,CAACU,UAAU,CAACK,WAAW,EAAED,OAAO,CAACE,SAAS,CAAC;MAA5EC,QAAQ,iBAARA,QAAQ;MAAEC,MAAM,iBAANA,MAAM;IACxBD,QAAQ,EAAE;IAEV,IAEEE,WAAW,GAyBTP,KAAK,CAzBPO,WAAW;MACXV,IAAI,GAwBFG,KAAK,CAxBPH,IAAI;MAEJW,aAAa,GAsBXR,KAAK,CAtBPQ,aAAa;MACbC,KAAK,GAqBHT,KAAK,CArBPS,KAAK;MACLC,SAAS,GAoBPV,KAAK,CApBPU,SAAS;MACTC,WAAW,GAmBTX,KAAK,CAnBPW,WAAW;MACXC,YAAY,GAkBVZ,KAAK,CAlBPY,YAAY;MACZC,SAAS,GAiBPb,KAAK,CAjBPa,SAAS;MACTC,eAAe,GAgBbd,KAAK,CAhBPc,eAAe;MACfC,MAAM,GAeJf,KAAK,CAfPe,MAAM;MACNC,EAAE,GAcAhB,KAAK,CAdPgB,EAAE;MACFC,YAAY,GAaVjB,KAAK,CAbPiB,YAAY;MACZC,gBAAgB,GAYdlB,KAAK,CAZPkB,gBAAgB;MAChBC,QAAQ,GAWNnB,KAAK,CAXPmB,QAAQ;MACRC,SAAS,GAUPpB,KAAK,CAVPoB,SAAS;MACTC,QAAQ,GASNrB,KAAK,CATPqB,QAAQ;MACRC,aAAa,GAQXtB,KAAK,CARPsB,aAAa;MACbC,eAAe,GAObvB,KAAK,CAPPuB,eAAe;MACfC,MAAM,GAMJxB,KAAK,CANPwB,MAAM;MACNC,OAAO,GAKLzB,KAAK,CALPyB,OAAO;MACPC,sBAAsB,GAIpB1B,KAAK,CAJP0B,sBAAsB;MACtBC,eAAe,GAGb3B,KAAK,CAHP2B,eAAe;MACfC,QAAQ,GAEN5B,KAAK,CAFP4B,QAAQ;MACRC,SAAS,GACP7B,KAAK,CADP6B,SAAS;IAGX,yBAAwBrC,iBAAiB,CAAC;QACxCsC,YAAY,EAAE9B,KAAK,CAACW,WAAW;QAC/BoB,KAAK,EAAE/B,KAAK,CAACgC,IAAI;QACjBC,YAAY,EAAE;MAChB,CAAC,CAAC;MAJKD,IAAI;MAAEE,OAAO;IAMpBxC,gBAAgB,CAACsC,IAAI,EAAE9B,OAAO,CAACsB,MAAM,EAAE,UAACW,CAAQ,EAAK;MACnDD,OAAO,CAAC,UAAAE,EAAE,EAAI;QACZ,QAASpC,KAAK,EAAE,cAAc,EAAEmC,CAAC,oBAAOnC,KAAK,EAAK;UAAEgC,IAAI,EAAE;QAAM,CAAC,EAAG;QACpE,OAAO,KAAK;MACd,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,IAAMK,MAAM,GAAGhE,KAAK,CAACiE,MAAM,EAAU;IACrCD,MAAM,CAACE,OAAO,GAAG5D,4BAA4B,CAAC,kBAAkB,EAAEkB,IAAI,EAAEwC,MAAM,CAACE,OAAO,CAAC;IACvF,IAAMC,SAAS,GAAGnE,KAAK,CAACiE,MAAM,EAAU;IACxCE,SAAS,CAACD,OAAO,GAAG5D,4BAA4B,CAAC,qBAAqB,EAAE8C,OAAO,EAAEe,SAAS,CAACD,OAAO,CAAC;IAEnG,IAAME,UAAU,GAAGpE,KAAK,CAACiE,MAAM,EAAe;IAC9C,IAAMI,OAAO,GAAGrE,KAAK,CAACiE,MAAM,EAAe;IAE3C,IAAMK,WAAW,GAAGtD,cAAc,CAACW,KAAK,CAAC;IACzC,IAAM4C,cAAc,GAAGtD,iBAAiB,CAACQ,UAAU,CAAC+C,YAAY,EAAE7C,KAAK,CAAC;IAExE,IAAM8C,YAAY,GAAG3D,gBAAgB,CAA0BqB,aAAa,EAAE;MAC5EuC,SAAS,EAAEjD,UAAU,CAACK,WAAW;MACjC6C,cAAc,EAAE;QACdC,SAAS;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;UAAA;QAAA,EAAE,UAAAd,CAAC;UAAA,OAAIc,SAAS,CAACd,CAAC,CAAC;QAAA;QAC5Be,iBAAiB,EAAE,2BAAAf,CAAC;UAAA,OAAIgB,YAAY,CAAChB,CAAC,EAAE,OAAO,CAAC;QAAA;QAChDiB,gBAAgB,EAAE,0BAAAjB,CAAC;UAAA,OAAIgB,YAAY,CAAChB,CAAC,EAAE,MAAM,CAAC;QAAA;MAChD,CAAC;MACDkB,kBAAkB,EAAE;QAAA,OAAO;UACzBhB,MAAM,EAAEA,MAAM,CAACE,OAAO;UACtBC,SAAS,EAAEA,SAAS,CAACD,OAAO;UAC5BP,IAAI,EAAJA,IAAI;UACJP,OAAO,EAAEzB,KAAK,CAACyB,OAAO;UACtBlB,WAAW,EAAXA,WAAW;UACXS,EAAE,EAAFA,EAAE;UACFO,eAAe,EAAfA;QACF,CAAC;MAAA,CAAC;MACF+B,GAAG,EAAEpD,OAAO,CAACoD;IACf,CAAC,CAAC;IAEF,IAAMC,UAAsB,GAAG;MAC7B/C,aAAa,EAAbA,aAAa;MACbC,KAAK,EAALA,KAAK;MACLE,WAAW,EAAXA,WAAW;MACXE,SAAS,EAATA,SAAS;MACTC,eAAe,EAAfA,eAAe;MACfF,YAAY,EAAZA,YAAY;MACZG,MAAM,EAANA,MAAM;MACNC,EAAE,EAAFA,EAAE;MACFC,YAAY,EAAZA,YAAY;MACZe,IAAI,EAAJA,IAAI;MACJd,gBAAgB,EAAhBA,gBAAgB;MAChBC,QAAQ,EAARA,QAAQ;MACRC,SAAS,EAATA,SAAS;MACTC,QAAQ,EAARA,QAAQ;MACRC,aAAa,EAAbA,aAAa;MACbC,eAAe,EAAfA,eAAe;MACfC,MAAM,EAANA,MAAM;MACNC,OAAO,EAAPA,OAAO;MACPC,sBAAsB,EAAtBA,sBAAsB;MACtBC,eAAe,EAAfA,eAAe;MACfC,QAAQ,EAARA;IACF,CAAC;IAED,iBAA4CnC,SAAS,CAAwBK,UAAU,CAACK,WAAW,EAAE;QACnGO,SAAS,EAAEf,mBAAmB;QAC9B6D,sBAAsB,EAAE;UAAA,OAAO;YAC7B9C,SAAS,EAATA,SAAS;YACT+C,MAAM,EAAEzD,KAAK,CAACyD,MAAM;YACpB5B,SAAS,EAATA;UACF,CAAC;QAAA,CAAC;QACFyB,GAAG,EAAEpD,OAAO,CAACoD;MACf,CAAC,CAAC;MARMI,OAAO,cAAPA,OAAO;MAAUC,cAAc,cAAtBF,MAAM;IAUvB,IAAMR,SAAS,GAAG,SAAZA,SAAS,CAAId,CAAsB,EAAK;MAC5CyB,gBAAgB,CAACzB,CAAC,EAAE,KAAK,CAAC;IAC5B,CAAC;IAED,IAAMgB,YAAY,GAAG,SAAfA,YAAY,CAAIhB,CAAsB,EAAE0B,KAAuB,EAAK;MACxE1B,CAAC,CAAC2B,cAAc,EAAE;MAClBF,gBAAgB,CAACzB,CAAC,EAAE,IAAI,EAAE;QAAA,OAAMO,OAAO,CAACH,OAAO,IAAIxD,aAAa,CAAC2D,OAAO,CAACH,OAAO,EAAEsB,KAAK,CAAC;MAAA,EAAC;IAC3F,CAAC;IAED,IAAMD,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIzB,CAAuB,EAAEH,IAAa,EAAE+B,QAAqB,EAAK;MAC1F,QAAS/D,KAAK,EAAE,cAAc,EAAEmC,CAAC,oBAAOnC,KAAK;QAAEgC,IAAI,EAAJA;MAAI,GAAG;MACtDE,OAAO,CAACF,IAAI,CAAC;MACb+B,QAAQ,IAAIA,QAAQ,EAAE;IACxB,CAAC;IAED,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,eAA0B;MAAA,OAAM;QAC3DC,WAAW,EAAE,qBAAC/B,CAAuB,EAAEgC,SAAwB,EAAK;UAClE,QAASF,eAAe,EAAE,aAAa,EAAE9B,CAAC,EAAEgC,SAAS,CAAC;UACtD,QAASnE,KAAK,EAAE,iBAAiB,EAAEmC,CAAC,EAAEgC,SAAS,CAAC;UAChD,IAAI,CAACA,SAAS,IAAI,CAACA,SAAS,CAACtE,IAAI,EAAE;YACjC;YACA+D,gBAAgB,CAACzB,CAAC,EAAE,KAAK,CAAC;UAC5B;QACF,CAAC;QACDiC,SAAS,EAAE,mBAACjC,CAAsB,EAAEgC,SAAwB,EAAK;UAC/D,QAASF,eAAe,EAAE,WAAW,EAAE9B,CAAC,EAAEgC,SAAS,CAAC;UACpD,IAAIhC,CAAC,CAACkC,GAAG,KAAK,WAAW,IAAIlC,CAAC,CAACkC,GAAG,KAAK,YAAY,EAAE;YACnDlC,CAAC,CAACmC,eAAe,EAAE;UACrB;QACF;MACF,CAAC;IAAA,CAAC;IAEF,IAAMC,OAAO,GAAGzF,IAAI,CAAC0F,MAAM,CAAC3E,IAAI,EAAE;MAChC4E,YAAY,EAAE;QAAA,OACZ3B,YAAY,CAAC,MAAM,EAAE;UACnB4B,QAAQ,EAAE,IAAI;UACdhE,SAAS,EAAEd,wBAAwB,CAACC;QACtC,CAAC,CAAC;MAAA;MACJ8E,aAAa,EAAEX;IACjB,CAAC,CAAC;IAEF,IAAMW,aAAyB;MAC7BnE,aAAa,EAAEsC,YAAY,CAAC8B,2BAA2B;MACvD5C,IAAI,EAAJA,IAAI;MACJf,YAAY,EAAE,sBAACkB,CAAC,QAAe;QAAA,IAAXH,IAAI,QAAJA,IAAI;QACtB4B,gBAAgB,CAACzB,CAAC,EAAEH,IAAI,CAAC;MAC3B,CAAC;MACDuC,OAAO,EAAE;QACPd,MAAM,EAAEE,cAAc,CAACkB,YAAY;QACnCN,OAAO,EAAEA,OAAO,iBAAI,oBAAC,GAAG;UAAC,QAAQ,EAAE7B;QAAQ,GAAE6B,OAAO;MACtD,CAAC;MACDO,QAAQ,EAAEC;IAAS,GACfxE,WAAW,GACX;MACES,EAAE,EAAE,SAAS;MACbgE,SAAS,EAAE,IAAI;MACfzD,eAAe,EAAE;IACnB,CAAC,GACD;MACE0D,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE;IACb,CAAC,CACN;IAED,IAAMC,KAAK,GAAGtG,KAAK,CAAC2F,MAAM,CAACjB,UAAU,EAAE;MAAEoB,aAAa,EAAbA;IAAc,CAAC,CAAC;IAEzD,IAAIpE,WAAW,EAAE;MACfD,MAAM,EAAE;MACR,OAAO6E,KAAK;IACd;IAEA,IAAMC,OAAO,GAAGtC,YAAY,CAACuC,0BAA0B,eACrD,oBAAC,WAAW,EACNvC,YAAY,CAAC,MAAM;MACrB7C,GAAG,EAAHA,GAAG;MACHS,SAAS,EAAEgD,OAAO,CAAC4B;IAAI,GACpB1C,cAAc,EACjB,eAEF,oBAAC,GAAG;MAAC,QAAQ,EAAEH;IAAW,GAAE0C,KAAK,CAAO,CAC5B,CACf;IACD7E,MAAM,EAAE;IACR,OAAO8E,OAAO;EAChB,CAAC,CAC4C;EAE7CtF,UAAU,CAACK,WAAW,GAAG,YAAY;EAErCL,UAAU,CAACyF,SAAS,qBACf7G,eAAe,CAAC8G,YAAY,CAAC;IAC9BjB,OAAO,EAAE;EACX,CAAC,CAAC;IACF9D,KAAK,EAAEnC,SAAS,CAACmH,KAAK,CAACzG,UAAU,CAAC;IAClC2B,WAAW,EAAErC,SAAS,CAACoH,IAAI;IAC3B7E,SAAS,EAAEpC,eAAe,CAACkH,OAAO;IAClC7E,eAAe,EAAExC,SAAS,CAACsH,MAAM;IACjC7E,MAAM,EAAEzC,SAAS,CAACuH,SAAS,CAAC,CAC1BvH,SAAS,CAACwH,IAAI,EACdxH,SAAS,CAACyH,OAAO,CAACzH,SAAS,CAACsH,MAAM,CAAC,CACpC,CAAC;IACF5E,EAAE,EAAE1C,SAAS,CAACuH,SAAS,CAAC,CACtBvH,SAAS,CAACmH,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,EACvDnH,SAAS,CAACyH,OAAO,CAACzH,SAAS,CAACmH,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,EACjEnH,SAAS,CAACyH,OAAO,CAACzH,SAAS,CAACmH,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,CAClE,CAAQ;IACT7E,YAAY,EAAEtC,SAAS,CAACuH,SAAS,CAAC,CAChCvH,SAAS,CAAC0H,MAAM,EAChB1H,SAAS,CAACyH,OAAO,CAACzH,SAAS,CAAC0H,MAAM,CAAC,EACnC1H,SAAS,CAACmH,KAAK,CAAgD,CAAC,iBAAiB,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAC9G,CAAC;IACFvE,gBAAgB,EAAE5C,SAAS,CAACuH,SAAS,CAAC,CACpCvH,SAAS,CAAC0H,MAAM,EAChB1H,SAAS,CAACyH,OAAO,CAACzH,SAAS,CAAC0H,MAAM,CAAC,EACnC1H,SAAS,CAACmH,KAAK,CAAgD,CAAC,iBAAiB,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAC9G,CAAC;IACFzD,IAAI,EAAE1D,SAAS,CAACoH,IAAI;IACpBO,eAAe,EAAE3H,SAAS,CAACwH,IAAI;IAC/B7E,YAAY,EAAE3C,SAAS,CAACwH,IAAI;IAC5B1E,SAAS,EAAE3C,eAAe,CAACwB,GAAG;IAC9BoB,QAAQ,EAAE/C,SAAS,CAACmH,KAAK,CAACxG,SAAS,CAAC;IACpCqC,aAAa,EAAEhD,SAAS,CAACoH,IAAI;IAC7BlE,MAAM,EAAElD,SAAS,CAAC4H,GAAG;IACrBzE,OAAO,EAAEhD,eAAe,CAAC0H,KAAK,CAAC,CAAC1H,eAAe,CAAC2H,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE9H,SAAS,CAAC4H,GAAG,CAAC,CAAC;IACvF3E,eAAe,EAAEjD,SAAS,CAACoH,IAAI;IAC/BhE,sBAAsB,EAAEpD,SAAS,CAACmH,KAAK,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IAC7D9D,eAAe,EAAErD,SAAS,CAACoH,IAAI;IAC/B9D,QAAQ,EAAEtD,SAAS,CAACmH,KAAK,CAAWvG,SAAS,CAAC;IAC9CW,IAAI,EAAEvB,SAAS,CAACuH,SAAS,CAAC,CACxBpH,eAAe,CAAC4H,uBAAuB,EACvC/H,SAAS,CAACyH,OAAO,CAACtH,eAAe,CAAC4H,uBAAuB,CAAC,CAC3D,CAAC;IACF9F,WAAW,EAAEjC,SAAS,CAACoH;EAAI,EAC5B;EAED5F,UAAU,CAAC2E,YAAY,GAAG;IACxBjE,aAAa,EAAEjC,kBAAkB;IACjCkC,KAAK,EAAE,OAAO;IACdY,QAAQ,EAAE;EACZ,CAAC;EAEDvB,UAAU,CAAC+C,YAAY,GAAGyD,MAAM,CAACC,IAAI,CAACzG,UAAU,CAACyF,SAAS,CAAQ;EAElEzF,UAAU,CAAC0E,MAAM,GAAG5F,sBAAsB,CAAC;IAAE4H,SAAS,EAAE1G,UAAU;IAAE2G,UAAU,EAAE;EAAO,CAAC,CAAC;EAAC,OA9P7E3G,UAAU;AAAA"}