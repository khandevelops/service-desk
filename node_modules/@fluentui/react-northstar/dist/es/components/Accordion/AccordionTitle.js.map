{"version":3,"file":"AccordionTitle.js","names":["accordionTitleBehavior","Ref","customPropTypes","PropTypes","React","childrenExist","createShorthandFactory","commonPropTypes","rtlTextContainer","Box","getElementType","useTelemetry","useFluentContext","useUnhandledProps","useAccessibility","useStyles","accordionTitleClassName","accordionTitleSlotClassNames","contentWrapper","AccordionTitle","forwardRef","props","ref","context","displayName","telemetry","setStart","setEnd","contentRef","children","content","indicator","disabled","accessibility","canBeCollapsed","as","active","accordionContentId","className","design","styles","variables","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","performClick","e","preventDefault","stopPropagation","handleClick","mapPropsToBehavior","hasContent","String","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","handleFocus","handleWrapperOverrides","predefinedProps","onFocus","onClick","contentWrapperElement","create","defaultProps","overrideProps","element","getAttributes","forElements","root","shorthandConfig","mappedProp","propTypes","createCommon","string","bool","wrapperShorthand","index","number","func","shorthandAllowingChildren","Object","keys","Component"],"sources":["components/Accordion/AccordionTitle.tsx"],"sourcesContent":["import { accordionTitleBehavior, Accessibility, AccordionTitleBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponentProps,\n  ContentComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n} from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport {\n  getElementType,\n  useTelemetry,\n  useFluentContext,\n  useUnhandledProps,\n  useAccessibility,\n  useStyles,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface AccordionTitleSlotClassNames {\n  contentWrapper: string;\n}\n\nexport interface AccordionTitleProps\n  extends UIComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>>,\n    ChildrenComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<AccordionTitleBehaviorProps>;\n\n  /** Id of the content it owns. */\n  accordionContentId?: string;\n\n  /** Whether or not the title is in the open state. */\n  active?: boolean;\n\n  /** If at least one panel needs to stay active and this title does not correspond to the last active one. */\n  canBeCollapsed?: boolean;\n\n  /** Shorthand for the content wrapper element. */\n  contentWrapper?: ShorthandValue<BoxProps>;\n\n  /** An accordion title can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** AccordionTitle index inside Accordion. */\n  index?: number;\n\n  /** Ref to the clickable element that contains the title. */\n  contentRef?: React.Ref<HTMLElement>;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AccordionTitleProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<AccordionTitleProps>;\n\n  /** Shorthand for the active indicator. */\n  indicator?: ShorthandValue<BoxProps>;\n}\n\nexport const accordionTitleClassName = 'ui-accordion__title';\nexport const accordionTitleSlotClassNames: AccordionTitleSlotClassNames = {\n  contentWrapper: `${accordionTitleClassName}__content-wrapper`,\n};\n\nexport type AccordionTitleStylesProps = Required<Pick<AccordionTitleProps, 'disabled' | 'active'>> & {\n  content: boolean;\n};\n\n/**\n * An AccordionTitle represents the title of Accordion's item that can be interacted with to expand or collapse the item's content.\n */\nexport const AccordionTitle = (React.forwardRef<HTMLDListElement, AccordionTitleProps & { as: React.ReactNode }>(\n  (props, ref) => {\n    const context = useFluentContext();\n    const { setStart, setEnd } = useTelemetry(AccordionTitle.displayName, context.telemetry);\n    setStart();\n    const {\n      contentRef,\n      children,\n      content,\n      indicator,\n      contentWrapper,\n      disabled,\n      accessibility,\n      canBeCollapsed,\n      as,\n      active,\n      accordionContentId,\n      className,\n      design,\n      styles,\n      variables,\n    } = props;\n    const ElementType = getElementType(props);\n    const unhandledProps = useUnhandledProps(AccordionTitle.handledProps, props);\n\n    const getA11yProps = useAccessibility<AccordionTitleBehaviorProps>(accessibility, {\n      debugName: AccordionTitle.displayName,\n      actionHandlers: {\n        performClick: e => {\n          e.preventDefault();\n          e.stopPropagation();\n          handleClick(e);\n        },\n      },\n      mapPropsToBehavior: () => ({\n        hasContent: !!content,\n        canBeCollapsed,\n        as: String(as),\n        active,\n        disabled,\n        accordionContentId,\n      }),\n      rtl: context.rtl,\n    });\n\n    const { classes, styles: resolvedStyles } = useStyles<AccordionTitleStylesProps>(AccordionTitle.displayName, {\n      className: accordionTitleClassName,\n      mapPropsToStyles: () => ({\n        disabled,\n        content: !!content,\n        active,\n      }),\n      mapPropsToInlineStyles: () => ({\n        className,\n        design,\n        styles,\n        variables,\n      }),\n      rtl: context.rtl,\n    });\n\n    const handleClick = (e: React.SyntheticEvent) => {\n      if (!disabled) {\n        _.invoke(props, 'onClick', e, props);\n      }\n    };\n\n    const handleFocus = (e: React.SyntheticEvent) => {\n      e.stopPropagation();\n      _.invoke(props, 'onFocus', e, props);\n    };\n\n    const handleWrapperOverrides = predefinedProps => ({\n      onFocus: (e: React.FocusEvent) => {\n        handleFocus(e);\n        _.invoke(predefinedProps, 'onFocus', e, props);\n      },\n      onClick: (e: React.MouseEvent) => {\n        handleClick(e);\n        _.invoke(predefinedProps, 'onClick', e, props);\n      },\n    });\n\n    const contentWrapperElement = (\n      <Ref innerRef={contentRef}>\n        {Box.create(contentWrapper, {\n          defaultProps: () =>\n            getA11yProps('content', {\n              className: accordionTitleSlotClassNames.contentWrapper,\n              styles: resolvedStyles.contentWrapper,\n            }),\n          overrideProps: predefinedProps => ({\n            children: (\n              <>\n                {Box.create(indicator, {\n                  defaultProps: () =>\n                    getA11yProps('indicator', {\n                      styles: resolvedStyles.indicator,\n                    }),\n                })}\n                {Box.create(content, {\n                  defaultProps: () => ({\n                    styles: resolvedStyles.content,\n                  }),\n                })}\n              </>\n            ),\n            ...handleWrapperOverrides(predefinedProps),\n          }),\n        })}\n      </Ref>\n    );\n\n    const element = (\n      <ElementType\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...getA11yProps('root', {\n          className: classes.root,\n          ref,\n          ...unhandledProps,\n        })}\n      >\n        {childrenExist(children) ? children : contentWrapperElement}\n      </ElementType>\n    );\n    setEnd();\n    return element;\n  },\n) as unknown) as ForwardRefWithAs<'div', HTMLDListElement, AccordionTitleProps> &\n  FluentComponentStaticProps<AccordionTitleProps>;\n\nAccordionTitle.displayName = 'AccordionTitle';\n\nAccordionTitle.shorthandConfig = {\n  mappedProp: 'content',\n};\n\nAccordionTitle.propTypes = {\n  ...commonPropTypes.createCommon({ content: 'shorthand' }),\n  accordionContentId: PropTypes.string,\n  active: PropTypes.bool,\n  contentRef: customPropTypes.ref,\n  contentWrapper: customPropTypes.wrapperShorthand,\n  canBeCollapsed: PropTypes.bool,\n  disabled: PropTypes.bool,\n  index: PropTypes.number,\n  onClick: PropTypes.func,\n  indicator: customPropTypes.shorthandAllowingChildren,\n};\n\nAccordionTitle.handledProps = Object.keys(AccordionTitle.propTypes) as any;\n\nAccordionTitle.defaultProps = {\n  accessibility: accordionTitleBehavior,\n  as: 'div',\n  contentRef: _.noop,\n  indicator: {},\n  contentWrapper: {},\n};\n\nAccordionTitle.create = createShorthandFactory({ Component: AccordionTitle, mappedProp: 'content' });\n"],"mappings":"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"}