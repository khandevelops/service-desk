{"version":3,"file":"getScrollParent.js","names":["getParentNode","node","nodeName","parentNode","host","getStyleComputedProperty","nodeType","window","ownerDocument","defaultView","getComputedStyle","getScrollParent","document","body","overflow","overflowX","overflowY","test"],"sources":["utils/positioner/getScrollParent.ts"],"sourcesContent":["/**\n * Returns the parent node or the host of the node argument.\n * @param node - DOM node.\n * @returns - parent DOM node.\n */\nexport const getParentNode = (node: HTMLElement): HTMLElement => {\n  if (node.nodeName === 'HTML') return node;\n  return node.parentNode || (node as any).host;\n};\n\n/**\n * Returns CSS styles of the given node.\n * @param node - DOM node.\n * @returns - CSS styles.\n */\nconst getStyleComputedProperty = (node: HTMLElement): Partial<CSSStyleDeclaration> => {\n  if (node.nodeType !== 1) return {};\n\n  const window = node.ownerDocument.defaultView;\n  return window.getComputedStyle(node, null);\n};\n\n/**\n * Returns the first scrollable parent of the given element.\n * @param node - DOM node.\n * @returns - the first scrollable parent.\n */\nexport const getScrollParent = (node: Document | HTMLElement): HTMLElement => {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  const parentNode = node && getParentNode(node as HTMLElement);\n  // eslint-disable-next-line\n  if (!parentNode) return document.body;\n\n  switch (parentNode.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return parentNode.ownerDocument.body;\n    case '#document':\n      return ((parentNode as unknown) as Document).body;\n  }\n\n  // If any of the overflow props is defined for the node then we return it as the parent\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(parentNode);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) return parentNode;\n\n  return getScrollParent(parentNode);\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAa,CAAIC,IAAiB,EAAkB;EAC/D,IAAIA,IAAI,CAACC,QAAQ,KAAK,MAAM,EAAE,OAAOD,IAAI;EACzC,OAAOA,IAAI,CAACE,UAAU,IAAKF,IAAI,CAASG,IAAI;AAC9C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwB,CAAIJ,IAAiB,EAAmC;EACpF,IAAIA,IAAI,CAACK,QAAQ,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;EAElC,IAAMC,MAAM,GAAGN,IAAI,CAACO,aAAa,CAACC,WAAW;EAC7C,OAAOF,MAAM,CAACG,gBAAgB,CAACT,IAAI,EAAE,IAAI,CAAC;AAC5C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMU,eAAe,GAAG,SAAlBA,eAAe,CAAIV,IAA4B,EAAkB;EAC5E;EACA,IAAME,UAAU,GAAGF,IAAI,IAAID,aAAa,CAACC,IAAI,CAAgB;EAC7D;EACA,IAAI,CAACE,UAAU,EAAE,OAAOS,QAAQ,CAACC,IAAI;EAErC,QAAQV,UAAU,CAACD,QAAQ;IACzB,KAAK,MAAM;IACX,KAAK,MAAM;MACT,OAAOC,UAAU,CAACK,aAAa,CAACK,IAAI;IACtC,KAAK,WAAW;MACd,OAASV,UAAU,CAA0BU,IAAI;EAAC;;EAGtD;EACA,4BAA2CR,wBAAwB,CAACF,UAAU,CAAC;IAAvEW,QAAQ,yBAARA,QAAQ;IAAEC,SAAS,yBAATA,SAAS;IAAEC,SAAS,yBAATA,SAAS;EACtC,IAAI,uBAAuB,CAACC,IAAI,CAACH,QAAQ,GAAGE,SAAS,GAAGD,SAAS,CAAC,EAAE,OAAOZ,UAAU;EAErF,OAAOQ,eAAe,CAACR,UAAU,CAAC;AACpC,CAAC"}