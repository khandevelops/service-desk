{"version":3,"file":"chatMessageStylesComfyRefresh.js","names":["getBorderFocusStyles","chatMessageSlotClassNames","pxToRem","screenReaderContainerStyles","displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageStylesComfyRefresh","root","p","props","v","variables","theme","borderFocusStyles","borderRadius","siteVariables","display","flexDirection","alignItems","mine","outline","timestamp","bubble","header","justifyContent","gap","paddingTop","color","colorScheme","default","foreground2","author","attached","fontWeight","marginBottom","whiteSpace","textOverflow","alignSelf","hasReducedHorizontalSpace","fontSize","margin","body","position","maxWidth","marginRight","border","paddingLeft","paddingRight","paddingBottom","hasReactions","backgroundColor","backgroundColorMine","backgroundAttachment","failed","backgroundImage","red","background1","hasMention","isImportant","bar","hasMentionColor","isImportantColor","borderBottomLeftRadius","borderTopLeftRadius","height","left","top","showActionMenu","hasActionMenu","actionMenu","bubbleInset","right","badge","marginLeft","reactionGroup","float"],"sources":["themes/teams/components/Chat/chatMessageStylesComfyRefresh.ts"],"sourcesContent":["import { isNil } from 'lodash';\nimport { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { screenReaderContainerStyles } from '../../../../utils/accessibility/Styles/accessibilityStyles';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  zIndex: overlayZIndex!,\n  overflow: 'visible',\n  opacity: 1,\n  width: 'auto',\n});\n\nexport const chatMessageStylesComfyRefresh: ComponentSlotStylesPrepared<\n  ChatMessageStylesProps,\n  ChatMessageVariables\n> = {\n  root: ({ props: p, variables: v, theme }): ICSSInJSStyle => {\n    const borderFocusStyles = getBorderFocusStyles({\n      borderRadius: 'inherit',\n      variables: theme.siteVariables,\n      // Fixes the bubble focus border rendering on top of the user avatar\n      zIndex: 'initial',\n    });\n\n    return {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: p.mine ? 'flex-end' : 'flex-start',\n      outline: 'none',\n\n      [`&:focus-visible .${chatMessageSlotClassNames.timestamp}`]: {\n        opacity: 1,\n      },\n\n      [`&:focus-visible .${chatMessageSlotClassNames.bubble}`]: borderFocusStyles[':focus-visible'],\n    };\n  },\n\n  header: ({ props: p, theme }): ICSSInJSStyle => ({\n    display: 'flex',\n    width: '100%',\n    justifyContent: p.mine ? 'flex-end' : 'start',\n    gap: pxToRem(8),\n    '& > div': {\n      paddingTop: pxToRem(8),\n    },\n    color: theme.siteVariables.colorScheme.default.foreground2,\n  }),\n\n  author: ({ props: p }): ICSSInJSStyle => ({\n    ...((p.mine || p.attached === 'bottom' || p.attached === true) && (screenReaderContainerStyles as ICSSInJSStyle)),\n    fontWeight: 400,\n    marginBottom: pxToRem(2),\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  }),\n\n  timestamp: ({ variables: v }): ICSSInJSStyle => ({\n    display: 'inline-block',\n    alignSelf: 'self-start',\n    whiteSpace: 'nowrap',\n    opacity: 0,\n    ...(v.hasReducedHorizontalSpace && {\n      fontSize: '1rem',\n      margin: `${pxToRem(3)} ${pxToRem(2.5)} 0`,\n    }),\n  }),\n\n  body: ({ props: p, variables: v }): ICSSInJSStyle => ({\n    display: 'flex',\n    flexDirection: p.mine ? 'row-reverse' : 'row',\n    position: 'relative',\n    maxWidth: '100%',\n\n    ...(!p.mine &&\n      v.hasReducedHorizontalSpace && {\n        marginRight: pxToRem(16),\n      }),\n  }),\n\n  bubble: ({ props: p, variables: v, theme }): ICSSInJSStyle => {\n    return {\n      position: 'relative',\n      border: v.border,\n      borderRadius: pxToRem(6),\n      paddingLeft: pxToRem(16),\n      paddingRight: pxToRem(16),\n      paddingTop: pxToRem(8),\n      paddingBottom: p.hasReactions ? pxToRem(10) : pxToRem(8),\n      backgroundColor: p.mine ? v.backgroundColorMine : v.backgroundColor,\n      backgroundAttachment: 'fixed',\n\n      ...(p.failed && {\n        backgroundImage: 'none',\n        backgroundColor: theme.siteVariables.colorScheme.red.background1,\n        border: `1px solid ${theme.siteVariables.colorScheme.red.border}`,\n      }),\n\n      ...((v.hasMention || v.isImportant) && {\n        [`& .${chatMessageSlotClassNames.bar}`]: {\n          backgroundColor: v.hasMention ? v.hasMentionColor : v.isImportantColor,\n          position: 'absolute',\n\n          borderBottomLeftRadius: 'inherit',\n          borderTopLeftRadius: 'inherit',\n          height: '100%',\n          left: '0',\n          top: '0',\n          width: pxToRem(3),\n        },\n      }),\n\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`& > .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`& .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      [`&:hover + .${chatMessageSlotClassNames.bubbleInset} .${chatMessageSlotClassNames.timestamp}`]: {\n        opacity: 1,\n      },\n\n      ...(p.attached === true &&\n        !v.isImportant && {\n          [p.mine ? 'borderTopRightRadius' : 'borderTopLeftRadius']: 0,\n          [p.mine ? 'borderBottomRightRadius' : 'borderBottomLeftRadius']: 0,\n        }),\n      ...(p.attached === 'top' &&\n        !v.isImportant && {\n          [p.mine ? 'borderBottomRightRadius' : 'borderBottomLeftRadius']: 0,\n        }),\n      ...(p.attached === 'bottom' &&\n        !v.isImportant && {\n          [p.mine ? 'borderTopRightRadius' : 'borderTopLeftRadius']: 0,\n        }),\n    };\n  },\n\n  bubbleInset: ({ props: p, variables: v }): ICSSInJSStyle => ({\n    display: 'flex',\n    paddingTop: pxToRem(10),\n    paddingBottom: 0,\n    // use padding instead of margin so that the bubble container's :hover\n    // styles still apply when mousing over the gap between the container\n    // and bubble-inset.\n    paddingLeft: v.hasReducedHorizontalSpace ? pxToRem(2.5) : pxToRem(5),\n    paddingRight: v.hasReducedHorizontalSpace ? pxToRem(2.5) : pxToRem(5),\n    ...(p.mine ? { right: '100%', flexDirection: 'row-reverse' } : { left: '100%' }),\n\n    [`&:hover .${chatMessageSlotClassNames.timestamp}`]: {\n      opacity: 1,\n    },\n  }),\n\n  badge: ({ props: p, variables: v }): ICSSInJSStyle => ({\n    position: 'relative',\n    top: pxToRem(-5),\n    width: pxToRem(25),\n    height: pxToRem(25),\n    backgroundColor: 'none',\n    color: v.isImportantColor,\n    zIndex: v.zIndex,\n    '& > :first-child': {\n      display: 'inline-flex',\n      margin: '0 auto',\n    },\n    ...(p.mine ? { marginRight: pxToRem(-5) } : { marginLeft: pxToRem(-5) }),\n  }),\n\n  reactionGroup: ({ props: p }): ICSSInJSStyle => ({\n    position: 'relative',\n    display: 'flex',\n    float: 'left',\n    zIndex: 1,\n    ...(p.mine && {\n      float: 'right',\n      marginRight: pxToRem(-4),\n    }),\n  }),\n};\n"],"mappings":"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"}