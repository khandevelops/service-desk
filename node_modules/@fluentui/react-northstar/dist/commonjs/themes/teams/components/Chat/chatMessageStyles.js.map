{"version":3,"file":"chatMessageStyles.js","names":["displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","chatMessageStylesComfy","compact","chatMessageStylesCompact","getChatMessageVariantStyles","props","density","defaultChatDensity","layout","chatMessageStylesComfyRefresh","chatMessageStyles","root","componentStyleFunctionParam","p","v","variables","siteVariables","theme","borderRadius","display","outline","position","wordBreak","wordWrap","getBorderFocusStyles","showActionMenu","hasActionMenu","chatMessageSlotClassNames","actionMenu","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","compactBody","timestamp","badge","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","color","badgeTextColor","height","padding","pxToRem","body","bubble","bubbleInset","reactionGroup"],"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensity';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { chatMessageStylesComfyRefresh } from './chatMessageStylesComfyRefresh';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageVariantStyles = (props: ChatMessageStylesProps) => {\n  const density = props.density || defaultChatDensity;\n  if (props.layout === 'refresh' && density === 'comfy') {\n    return chatMessageStylesComfyRefresh;\n  }\n  return chatMessageDensityStyles[density];\n};\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n\n    if (p.layout === 'refresh' && p.density === 'comfy') {\n      return chatMessageStylesComfyRefresh.root(componentStyleFunctionParam);\n    }\n    return {\n      borderRadius: v.borderRadius,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageVariantStyles(p).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n      ...getChatMessageVariantStyles(p).actionMenu?.(componentStyleFunctionParam),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      display: 'inline-block',\n      ...getChatMessageVariantStyles(p).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageVariantStyles(p).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  body: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).body?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubble: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubble?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubbleInset: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubbleInset?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"mappings":"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"}