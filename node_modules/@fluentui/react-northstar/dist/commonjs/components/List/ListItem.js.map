{"version":3,"file":"ListItem.js","names":["listItemClassName","listItemSlotClassNames","headerWrapper","main","contentWrapper","ListItem","React","forwardRef","props","ref","context","useFluentContext","useTelemetry","displayName","telemetry","setStart","setEnd","accessibility","className","content","contentMedia","design","endMedia","header","important","headerMedia","media","styles","parentProps","useContextSelectors","ListContext","debug","v","navigable","selectable","truncateContent","truncateHeader","variables","onItemClick","selected","selectedIndex","index","getA11Props","useAccessibility","debugName","actionHandlers","performClick","e","preventDefault","handleClick","mapPropsToBehavior","rtl","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","contentElement","createShorthand","ListItemContent","defaultProps","hasContentMedia","hasHeader","truncate","contentMediaElement","ListItemContentMedia","headerElement","ListItemHeader","hasContent","hasHeaderMedia","headerMediaElement","ListItemHeaderMedia","endMediaElement","ListItemEndMedia","mediaElement","ListItemMedia","element","unstable_wrapWithFocusZone","root","onClick","cx","as","listItemBehavior","propTypes","commonPropTypes","createCommon","PropTypes","any","bool","number","func","Object","keys","create","createShorthandFactory","Component","mappedProp"],"sources":["components/List/ListItem.tsx"],"sourcesContent":["import { Accessibility, listItemBehavior, ListItemBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useContextSelectors,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ShorthandValue, ComponentEventHandler, FluentComponentStaticProps } from '../../types';\nimport {\n  createShorthandFactory,\n  UIComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  createShorthand,\n} from '../../utils';\nimport { ListContext, ListContextSubscribedValue } from './listContext';\nimport { ListItemContent, ListItemContentProps } from './ListItemContent';\nimport { ListItemContentMedia, ListItemContentMediaProps } from './ListItemContentMedia';\nimport { ListItemEndMedia, ListItemEndMediaProps } from './ListItemEndMedia';\nimport { ListItemHeader, ListItemHeaderProps } from './ListItemHeader';\nimport { ListItemHeaderMedia, ListItemHeaderMediaProps } from './ListItemHeaderMedia';\nimport { ListItemMedia, ListItemMediaProps } from './ListItemMedia';\n\nexport interface ListItemSlotClassNames {\n  headerWrapper: string;\n  contentWrapper: string;\n  main: string;\n}\n\nexport interface ListItemProps extends UIComponentProps, ContentComponentProps<ShorthandValue<ListItemContentProps>> {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ListItemBehaviorProps>;\n  contentMedia?: ShorthandValue<ListItemContentMediaProps>;\n  /** Toggle debug mode. */\n  debug?: boolean;\n  header?: ShorthandValue<ListItemHeaderProps>;\n  headerMedia?: ShorthandValue<ListItemHeaderMediaProps>;\n  endMedia?: ShorthandValue<ListItemEndMediaProps>;\n\n  /** A list item can appear more important and draw the user's attention. */\n  important?: boolean;\n  media?: ShorthandValue<ListItemMediaProps>;\n\n  index?: number;\n  /** A list item can indicate that it can be selected. */\n  selectable?: boolean;\n\n  /** A list item can indicate that it can be navigable. */\n  navigable?: boolean;\n\n  /** Indicates if the current list item is selected. */\n  selected?: boolean;\n  truncateContent?: boolean;\n  truncateHeader?: boolean;\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<ListItemProps>;\n}\n\nexport type ListItemStylesProps = Pick<ListItemProps, 'debug' | 'important' | 'navigable' | 'selectable' | 'selected'>;\n\nexport const listItemClassName = 'ui-list__item';\nexport const listItemSlotClassNames: ListItemSlotClassNames = {\n  headerWrapper: `${listItemClassName}__headerWrapper`,\n  main: `${listItemClassName}__main`,\n  contentWrapper: `${listItemClassName}__contentWrapper`,\n};\n\n/**\n * A ListItem contains a single piece of content within a List.\n */\nexport const ListItem = (React.forwardRef<HTMLLIElement, ListItemProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(ListItem.displayName, context.telemetry);\n\n  setStart();\n\n  const {\n    accessibility,\n    className,\n    content,\n    contentMedia,\n    design,\n    endMedia,\n    header,\n    important,\n    headerMedia,\n    media,\n    styles,\n  } = props;\n\n  const parentProps: ListContextSubscribedValue = useContextSelectors(ListContext, {\n    debug: v => v.debug,\n    navigable: v => v.navigable,\n    selectable: v => v.selectable,\n    truncateContent: v => v.truncateContent,\n    truncateHeader: v => v.truncateHeader,\n    variables: v => v.variables,\n    onItemClick: v => v.onItemClick,\n    selected: v => v.selectedIndex === props.index,\n  });\n  const {\n    debug = parentProps.debug,\n    navigable = parentProps.navigable,\n    selectable = parentProps.selectable,\n    selected = parentProps.selected,\n    truncateContent = parentProps.truncateContent,\n    truncateHeader = parentProps.truncateHeader,\n    variables = parentProps.variables,\n  } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: ListItem.displayName,\n    actionHandlers: {\n      performClick: e => {\n        e.preventDefault();\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      navigable,\n      selectable,\n      selected,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes } = useStyles<ListItemStylesProps>(ListItem.displayName, {\n    className: listItemClassName,\n    mapPropsToStyles: () => ({\n      debug,\n      navigable,\n      important,\n      selectable,\n      selected,\n    }),\n    mapPropsToInlineStyles: () => ({ className, design, styles, variables }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ListItem.handledProps, props);\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    _.invoke(props, 'onClick', e, props);\n    parentProps.onItemClick(e, props.index);\n  };\n\n  const contentElement = createShorthand(ListItemContent, content, {\n    defaultProps: () => ({\n      hasContentMedia: !!contentMedia,\n      hasHeader: !!header,\n      truncate: truncateContent,\n    }),\n  });\n  const contentMediaElement = createShorthand(ListItemContentMedia, contentMedia);\n  const headerElement = createShorthand(ListItemHeader, header, {\n    defaultProps: () => ({\n      hasContent: !!content,\n      hasHeaderMedia: !!headerMedia,\n      truncate: truncateHeader,\n    }),\n  });\n  const headerMediaElement = createShorthand(ListItemHeaderMedia, headerMedia);\n  const endMediaElement = createShorthand(ListItemEndMedia, endMedia, {\n    defaultProps: () => ({\n      navigable,\n      selectable,\n    }),\n  });\n  const mediaElement = createShorthand(ListItemMedia, media, {\n    defaultProps: () => ({\n      hasContent: !!content,\n      hasHeader: !!header,\n      important,\n    }),\n  });\n\n  const element = getA11Props.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        ...unhandledProps,\n        ref,\n      })}\n    >\n      {mediaElement}\n\n      <div className={cx(listItemSlotClassNames.main, classes.main)}>\n        {(headerElement || headerMediaElement) && (\n          <div className={cx(listItemSlotClassNames.headerWrapper, classes.headerWrapper)}>\n            {headerElement}\n            {headerMediaElement}\n          </div>\n        )}\n        {(contentElement || contentMediaElement) && (\n          <div className={cx(listItemSlotClassNames.contentWrapper, classes.contentWrapper)}>\n            {contentElement}\n            {contentMediaElement}\n          </div>\n        )}\n      </div>\n\n      {endMediaElement}\n    </ElementType>,\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'li', HTMLLIElement, ListItemProps & { index: number }> &\n  FluentComponentStaticProps<ListItemProps>;\n\nListItem.displayName = 'ListItem';\n\nListItem.defaultProps = {\n  as: 'li',\n  accessibility: listItemBehavior,\n};\n\nListItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  contentMedia: PropTypes.any,\n  content: PropTypes.any,\n\n  debug: PropTypes.bool,\n\n  header: PropTypes.any,\n  endMedia: PropTypes.any,\n  headerMedia: PropTypes.any,\n\n  important: PropTypes.bool,\n  media: PropTypes.any,\n\n  selectable: PropTypes.bool,\n  navigable: PropTypes.bool,\n  index: PropTypes.number,\n  selected: PropTypes.bool,\n\n  truncateContent: PropTypes.bool,\n  truncateHeader: PropTypes.bool,\n\n  onClick: PropTypes.func,\n};\nListItem.handledProps = Object.keys(ListItem.propTypes) as any;\n\nListItem.create = createShorthandFactory({ Component: ListItem, mappedProp: 'content' });\n"],"mappings":"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"}