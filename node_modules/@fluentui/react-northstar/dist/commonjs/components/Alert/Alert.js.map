{"version":3,"file":"Alert.js","names":["alertClassName","alertSlotClassNames","content","actions","icon","header","body","Alert","React","forwardRef","props","ref","context","useFluentContext","useTelemetry","displayName","telemetry","setStart","setEnd","warning","danger","info","success","attached","fitted","dismissible","variables","className","design","styles","children","dismissAction","useAutoControlled","defaultValue","defaultVisible","value","visible","initialValue","setVisible","useState","bodyId","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","getA11yProps","useAccessibility","accessibility","debugName","mapPropsToBehavior","rtl","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","handleDismissOverrides","predefinedProps","onClick","e","buttonProps","handleFocus","renderContent","bodyContent","Text","create","defaultProps","Box","id","overrideProps","ButtonGroup","AlertDismissAction","element","unstable_wrapWithFocusZone","root","onFocus","childrenExist","alertBehavior","propTypes","commonPropTypes","createCommon","PropTypes","oneOfType","customPropTypes","itemShorthand","collectionShorthand","shorthandAllowingChildren","oneOf","bool","onVisibleChange","func","Object","keys","createShorthandFactory","Component","DismissAction"],"sources":["components/Alert/Alert.tsx"],"sourcesContent":["import { Accessibility, alertBehavior, AlertBehaviorProps } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  UIComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  childrenExist,\n  createShorthandFactory,\n} from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, ShorthandCollection, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport { ButtonProps } from '../Button/Button';\nimport { Text, TextProps } from '../Text/Text';\n\nimport { ButtonGroup, ButtonGroupProps } from '../Button/ButtonGroup';\nimport { AlertDismissAction, AlertDismissActionProps } from './AlertDismissAction';\nimport {\n  useAccessibility,\n  getElementType,\n  useStyles,\n  useTelemetry,\n  useFluentContext,\n  useUnhandledProps,\n  useAutoControlled,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface AlertSlotClassNames {\n  content: string;\n  actions: string;\n  icon: string;\n  header: string;\n  body: string;\n}\n\nexport interface AlertProps extends UIComponentProps, ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available alertWarningBehavior\n   */\n  accessibility?: Accessibility<AlertBehaviorProps>;\n\n  /** An alert can contain action buttons. */\n  actions?: ShorthandValue<ButtonGroupProps> | ShorthandCollection<ButtonProps>;\n\n  /** An alert may contain an icon. */\n  icon?: ShorthandValue<BoxProps>;\n\n  /** An alert may contain a header. */\n  header?: ShorthandValue<TextProps>;\n\n  /** An alert's position relative to neighboring items. */\n  attached?: boolean | 'top' | 'bottom';\n\n  /** An alert can only take up the width of its content. */\n  fitted?: boolean;\n\n  /** An alert may be formatted to display a danger message. */\n  danger?: boolean;\n\n  /** A default value for the `visible` prop. */\n  defaultVisible?: boolean;\n\n  /** An alert can be dismissible. */\n  dismissible?: boolean;\n\n  /**\n   * A button shorthand for the dismiss action slot. To use this slot the alert should be\n   * dismissible.\n   */\n  dismissAction?: ShorthandValue<AlertDismissActionProps>;\n\n  /** An alert may be formatted to display information. */\n  info?: boolean;\n\n  /**\n   * Called after user will dismiss the alert.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onVisibleChange?: ComponentEventHandler<AlertProps>;\n\n  /**\n   * Called after the alert is focused.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<AlertProps>;\n\n  /** An alert can be formatted to display a successful message. */\n  success?: boolean;\n\n  /** An alert can be set to visible to force itself to be shown. */\n  visible?: boolean;\n\n  /** An alert can be formatted to display a warning message. */\n  warning?: boolean;\n\n  /** An alert can have a body that contains header and content elements. */\n  body?: ShorthandValue<BoxProps>;\n}\n\nexport type AlertStylesProps = Required<\n  Pick<AlertProps, 'danger' | 'warning' | 'info' | 'success' | 'attached' | 'fitted' | 'dismissible' | 'visible'>\n>;\n\nexport const alertClassName = 'ui-alert';\nexport const alertSlotClassNames: AlertSlotClassNames = {\n  content: `${alertClassName}__content`,\n  actions: `${alertClassName}__actions`,\n  icon: `${alertClassName}__icon`,\n  header: `${alertClassName}__header`,\n  body: `${alertClassName}__body`,\n};\n\n/**\n * An Alert displays a brief, important message to attract a user's attention without interrupting their current task.\n *\n * @accessibility\n * Implements [ARIA Alert](https://www.w3.org/TR/wai-aria-practices-1.1/#alert) design pattern.\n */\nexport const Alert = (React.forwardRef<HTMLDivElement, AlertProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Alert.displayName, context.telemetry);\n  setStart();\n  const {\n    warning,\n    danger,\n    info,\n    success,\n    attached,\n    fitted,\n    dismissible,\n    variables,\n    className,\n    design,\n    styles,\n    children,\n    actions,\n    dismissAction,\n    content,\n    icon,\n    header,\n    body,\n  } = props;\n\n  const [visible, setVisible] = useAutoControlled({\n    defaultValue: props.defaultVisible,\n    value: props.visible,\n    initialValue: true,\n  });\n\n  const [bodyId] = React.useState(_.uniqueId('alert-body-'));\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Alert.handledProps, props);\n\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: Alert.displayName,\n    mapPropsToBehavior: () => ({\n      warning,\n      danger,\n      bodyId,\n      visible,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<AlertStylesProps>(Alert.displayName, {\n    className: alertClassName,\n    mapPropsToStyles: () => ({\n      warning,\n      danger,\n      info,\n      success,\n      attached,\n      fitted,\n      dismissible,\n      visible,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleDismissOverrides = (predefinedProps: ButtonProps) => ({\n    onClick: (e: React.SyntheticEvent, buttonProps: ButtonProps) => {\n      _.invoke(predefinedProps, 'onClick', e, buttonProps);\n      _.invoke(props, 'onVisibleChange', e, { ...props, visible: false });\n      setVisible(false);\n    },\n  });\n\n  const handleFocus = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onFocus', e, props);\n  };\n\n  const renderContent = () => {\n    const bodyContent = (\n      <>\n        {Text.create(header, {\n          defaultProps: () =>\n            getA11yProps('header', {\n              className: alertSlotClassNames.header,\n              styles: resolvedStyles.header,\n            }),\n        })}\n        {Box.create(content, {\n          defaultProps: () =>\n            getA11yProps('content', {\n              className: alertSlotClassNames.content,\n              styles: resolvedStyles.content,\n            }),\n        })}\n      </>\n    );\n\n    return (\n      <>\n        {Box.create(icon, {\n          defaultProps: () =>\n            getA11yProps('icon', {\n              className: alertSlotClassNames.icon,\n              styles: resolvedStyles.icon,\n            }),\n        })}\n        {Box.create(body, {\n          defaultProps: () =>\n            getA11yProps('body', {\n              className: alertSlotClassNames.body,\n              styles: resolvedStyles.body,\n              id: bodyId,\n            }),\n          overrideProps: {\n            children: bodyContent,\n          },\n        })}\n\n        {ButtonGroup.create(actions, {\n          defaultProps: () =>\n            getA11yProps('actions', {\n              className: alertSlotClassNames.actions,\n              styles: resolvedStyles.actions,\n            }),\n        })}\n        {dismissible &&\n          AlertDismissAction.create(dismissAction, {\n            defaultProps: () =>\n              getA11yProps('dismissAction', {\n                danger,\n                warning,\n                info,\n                success,\n                variables,\n              }),\n            overrideProps: handleDismissOverrides,\n          })}\n      </>\n    );\n  };\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        onFocus: handleFocus,\n        ref,\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : renderContent()}\n    </ElementType>,\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, AlertProps> &\n  FluentComponentStaticProps<AlertProps> & {\n    DismissAction: typeof AlertDismissAction;\n  };\n\nAlert.defaultProps = {\n  accessibility: alertBehavior,\n  dismissAction: {},\n  body: {},\n};\n\nAlert.propTypes = {\n  ...commonPropTypes.createCommon({ content: 'shorthand' }),\n  actions: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n  icon: customPropTypes.shorthandAllowingChildren,\n  header: customPropTypes.itemShorthand,\n  attached: PropTypes.oneOf([true, false, 'top', 'bottom']),\n  fitted: PropTypes.bool,\n  danger: PropTypes.bool,\n  defaultVisible: PropTypes.bool,\n  dismissible: PropTypes.bool,\n  dismissAction: customPropTypes.shorthandAllowingChildren,\n  info: PropTypes.bool,\n  onVisibleChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  success: PropTypes.bool,\n  visible: PropTypes.bool,\n  warning: PropTypes.bool,\n  body: customPropTypes.shorthandAllowingChildren,\n};\n\nAlert.displayName = 'Alert';\n\nAlert.handledProps = Object.keys(Alert.propTypes) as any;\n\nAlert.create = createShorthandFactory({\n  Component: Alert,\n});\n\nAlert.DismissAction = AlertDismissAction;\n"],"mappings":"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"}