{"version":3,"file":"TableRow.js","names":["tableRowClassName","TableRow","React","forwardRef","props","ref","context","useFluentContext","useTelemetry","displayName","telemetry","setStart","setEnd","rowRef","useRef","className","design","styles","items","header","compact","children","accessibility","variables","selected","hasChildren","childrenExist","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","getA11yProps","useAccessibility","debugName","actionHandlers","unsetRowTabbable","e","current","setAttribute","performClick","currentTarget","target","preventDefault","mapPropsToBehavior","rtl","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","renderCells","item","TableCell","create","defaultProps","overrideProps","predefinedProps","mergeVariablesOverrides","element","unstable_wrapWithFocusZone","root","propTypes","commonPropTypes","createCommon","content","customPropTypes","collectionShorthand","PropTypes","bool","Object","keys","tableRowBehavior","createShorthandFactory","Component","mappedArrayProp"],"sources":["components/Table/TableRow.tsx"],"sourcesContent":["import { Accessibility, tableRowBehavior, GridRowBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  useFluentContext,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { FluentComponentStaticProps, ShorthandCollection } from '../../types';\nimport { childrenExist, commonPropTypes, createShorthandFactory, UIComponentProps } from '../../utils';\nimport { TableCell, TableCellProps } from './TableCell';\n\nexport interface TableRowProps extends UIComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * */\n  accessibility?: Accessibility<GridRowBehaviorProps>;\n\n  /**\n   * Row cells\n   */\n  items?: ShorthandCollection<TableCellProps>;\n\n  /**\n   * Is the row a table header\n   */\n  header?: boolean;\n\n  /**\n   * Render table in compact mode\n   */\n  compact?: boolean;\n\n  /**\n   * Whether a row is currently selected or not.\n   */\n  selected?: boolean;\n}\n\nexport const tableRowClassName = 'ui-table__row';\n\nexport type TableRowStylesProps = Pick<TableRowProps, 'header' | 'compact'>;\n\n/**\n * Component represents a single row in a tabular structure\n */\nexport const TableRow = (React.forwardRef<HTMLDivElement, TableRowProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableRow.displayName, context.telemetry);\n  setStart();\n  const rowRef = React.useRef<HTMLElement>();\n  const { className, design, styles, items, header, compact, children, accessibility, variables, selected } = props;\n\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableRow.handledProps, props);\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: TableRow.displayName,\n    actionHandlers: {\n      // https://github.com/microsoft/fluent-ui-react/issues/2150\n      unsetRowTabbable: e => {\n        rowRef.current.setAttribute('tabindex', '-1');\n      },\n      performClick: e => {\n        if (e.currentTarget === e.target) {\n          _.invoke(props, 'onClick', e, props);\n          e.preventDefault();\n        }\n      },\n    },\n    mapPropsToBehavior: () => ({\n      selected,\n      header,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TableRowStylesProps>(TableRow.displayName, {\n    className: tableRowClassName,\n    mapPropsToStyles: () => ({\n      header,\n      compact,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderCells = () => {\n    return _.map(items, (item: TableCellProps) => {\n      return TableCell.create(item, {\n        defaultProps: () => getA11yProps('cell', {}),\n        overrideProps: predefinedProps => ({\n          variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n        }),\n      });\n    });\n  };\n\n  const element = (\n    <Ref innerRef={rowRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            ref,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren && children}\n          {!hasChildren && renderCells()}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n}) as unknown) as ForwardRefWithAs<'div', HTMLDivElement, TableRowProps> & FluentComponentStaticProps<TableRowProps>;\n\nTableRow.displayName = 'TableRow';\n\nTableRow.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: customPropTypes.collectionShorthand,\n  header: PropTypes.bool,\n  compact: PropTypes.bool,\n  selected: PropTypes.bool,\n};\n\nTableRow.handledProps = Object.keys(TableRow.propTypes) as any;\n\nTableRow.defaultProps = {\n  accessibility: tableRowBehavior,\n};\n\nTableRow.create = createShorthandFactory({ Component: TableRow, mappedArrayProp: 'items' });\n"],"mappings":";;;;;;;AAAA;AACA;AAUA;AACA;AAGA;AACA;AAEA;AACA;AAAwD;AAAA;AA6BjD,IAAMA,iBAAiB,GAAG,eAAe;AAAC;AAIjD;AACA;AACA;AACO,IAAMC,QAAQ,gBAAIC,KAAK,CAACC,UAAU,CAAgC,UAACC,KAAK,EAAEC,GAAG,EAAK;EACvF,IAAMC,OAAO,GAAG,IAAAC,+BAAgB,GAAE;EAClC,oBAA6B,IAAAC,2BAAY,EAACP,QAAQ,CAACQ,WAAW,EAAEH,OAAO,CAACI,SAAS,CAAC;IAA1EC,QAAQ,iBAARA,QAAQ;IAAEC,MAAM,iBAANA,MAAM;EACxBD,QAAQ,EAAE;EACV,IAAME,MAAM,GAAGX,KAAK,CAACY,MAAM,EAAe;EAC1C,IAAQC,SAAS,GAA2FX,KAAK,CAAzGW,SAAS;IAAEC,MAAM,GAAmFZ,KAAK,CAA9FY,MAAM;IAAEC,MAAM,GAA2Eb,KAAK,CAAtFa,MAAM;IAAEC,KAAK,GAAoEd,KAAK,CAA9Ec,KAAK;IAAEC,MAAM,GAA4Df,KAAK,CAAvEe,MAAM;IAAEC,OAAO,GAAmDhB,KAAK,CAA/DgB,OAAO;IAAEC,QAAQ,GAAyCjB,KAAK,CAAtDiB,QAAQ;IAAEC,aAAa,GAA0BlB,KAAK,CAA5CkB,aAAa;IAAEC,SAAS,GAAenB,KAAK,CAA7BmB,SAAS;IAAEC,QAAQ,GAAKpB,KAAK,CAAlBoB,QAAQ;EAEvG,IAAMC,WAAW,GAAG,IAAAC,oBAAa,EAACL,QAAQ,CAAC;EAC3C,IAAMM,WAAW,GAAG,IAAAC,6BAAc,EAACxB,KAAK,CAAC;EACzC,IAAMyB,cAAc,GAAG,IAAAC,gCAAiB,EAAC7B,QAAQ,CAAC8B,YAAY,EAAE3B,KAAK,CAAC;EACtE,IAAM4B,YAAY,GAAG,IAAAC,+BAAgB,EAACX,aAAa,EAAE;IACnDY,SAAS,EAAEjC,QAAQ,CAACQ,WAAW;IAC/B0B,cAAc,EAAE;MACd;MACAC,gBAAgB,EAAE,0BAAAC,CAAC,EAAI;QACrBxB,MAAM,CAACyB,OAAO,CAACC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;MAC/C,CAAC;MACDC,YAAY,EAAE,sBAAAH,CAAC,EAAI;QACjB,IAAIA,CAAC,CAACI,aAAa,KAAKJ,CAAC,CAACK,MAAM,EAAE;UAChC,sBAAStC,KAAK,EAAE,SAAS,EAAEiC,CAAC,EAAEjC,KAAK,CAAC;UACpCiC,CAAC,CAACM,cAAc,EAAE;QACpB;MACF;IACF,CAAC;IACDC,kBAAkB,EAAE;MAAA,OAAO;QACzBpB,QAAQ,EAARA,QAAQ;QACRL,MAAM,EAANA;MACF,CAAC;IAAA,CAAC;IACF0B,GAAG,EAAEvC,OAAO,CAACuC;EACf,CAAC,CAAC;EAEF,iBAAoB,IAAAC,wBAAS,EAAsB7C,QAAQ,CAACQ,WAAW,EAAE;MACvEM,SAAS,EAAEf,iBAAiB;MAC5B+C,gBAAgB,EAAE;QAAA,OAAO;UACvB5B,MAAM,EAANA,MAAM;UACNC,OAAO,EAAPA;QACF,CAAC;MAAA,CAAC;MACF4B,sBAAsB,EAAE;QAAA,OAAO;UAC7BjC,SAAS,EAATA,SAAS;UACTC,MAAM,EAANA,MAAM;UACNC,MAAM,EAANA,MAAM;UACNM,SAAS,EAATA;QACF,CAAC;MAAA,CAAC;MACFsB,GAAG,EAAEvC,OAAO,CAACuC;IACf,CAAC,CAAC;IAbMI,OAAO,cAAPA,OAAO;EAef,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxB,OAAO,mBAAMhC,KAAK,EAAE,UAACiC,IAAoB,EAAK;MAC5C,OAAOC,oBAAS,CAACC,MAAM,CAACF,IAAI,EAAE;QAC5BG,YAAY,EAAE;UAAA,OAAMtB,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAAA;QAC5CuB,aAAa,EAAE,uBAAAC,eAAe;UAAA,OAAK;YACjCjC,SAAS,EAAE,IAAAkC,sCAAuB,EAAClC,SAAS,EAAEiC,eAAe,CAACjC,SAAS;UACzE,CAAC;QAAA;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,IAAMmC,OAAO,gBACX,oBAAC,sBAAG;IAAC,QAAQ,EAAE7C;EAAO,GACnBmB,YAAY,CAAC2B,0BAA0B,eACtC,oBAAC,WAAW,EACN3B,YAAY,CAAC,MAAM;IACrBjB,SAAS,EAAEkC,OAAO,CAACW,IAAI;IACvBvD,GAAG,EAAHA;EAAG,GACAwB,cAAc,EACjB,EAEDJ,WAAW,IAAIJ,QAAQ,EACvB,CAACI,WAAW,IAAIyB,WAAW,EAAE,CAClB,CACf,CAEJ;EACDtC,MAAM,EAAE;EACR,OAAO8C,OAAO;AAChB,CAAC,CAAmH;AAAC;AAErHzD,QAAQ,CAACQ,WAAW,GAAG,UAAU;AAEjCR,QAAQ,CAAC4D,SAAS,qBACbC,sBAAe,CAACC,YAAY,CAAC;EAC9BC,OAAO,EAAE;AACX,CAAC,CAAC;EACF9C,KAAK,EAAE+C,eAAe,CAACC,mBAAmB;EAC1C/C,MAAM,EAAEgD,SAAS,CAACC,IAAI;EACtBhD,OAAO,EAAE+C,SAAS,CAACC,IAAI;EACvB5C,QAAQ,EAAE2C,SAAS,CAACC;AAAI,EACzB;AAEDnE,QAAQ,CAAC8B,YAAY,GAAGsC,MAAM,CAACC,IAAI,CAACrE,QAAQ,CAAC4D,SAAS,CAAQ;AAE9D5D,QAAQ,CAACqD,YAAY,GAAG;EACtBhC,aAAa,EAAEiD;AACjB,CAAC;AAEDtE,QAAQ,CAACoD,MAAM,GAAG,IAAAmB,6BAAsB,EAAC;EAAEC,SAAS,EAAExE,QAAQ;EAAEyE,eAAe,EAAE;AAAQ,CAAC,CAAC"}