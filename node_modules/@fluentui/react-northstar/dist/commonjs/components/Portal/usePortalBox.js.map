{"version":3,"file":"usePortalBox.js","names":["usePortalBox","options","className","rtl","target","element","React","useMemo","newElement","isBrowser","createElement","body","appendChild","useIsomorphicLayoutEffect","classes","split","filter","Boolean","classList","add","setAttribute","removeAttribute","remove","useEffect","removeChild"],"sources":["components/Portal/usePortalBox.ts"],"sourcesContent":["import { useIsomorphicLayoutEffect } from '@fluentui/react-bindings';\nimport * as React from 'react';\n\nimport { isBrowser } from '../../utils/isBrowser';\n\ntype UsePortalBoxOptions = {\n  className: string;\n  rtl: boolean;\n  target: Document | undefined;\n};\n\nexport const usePortalBox = (options: UsePortalBoxOptions): HTMLDivElement | null => {\n  const { className, rtl, target } = options;\n\n  const element: HTMLDivElement | null = React.useMemo(() => {\n    const newElement = isBrowser() && target ? target.createElement('div') : null;\n\n    // Element should be attached to DOM during render to make elements that will be rendered\n    // inside accessible in effects of child components\n    if (newElement) {\n      target.body.appendChild(newElement);\n    }\n\n    return newElement;\n  }, [target]);\n\n  useIsomorphicLayoutEffect(() => {\n    const classes = className.split(' ').filter(Boolean);\n\n    if (element) {\n      element.classList.add(...classes);\n\n      if (rtl) {\n        element.setAttribute('dir', 'rtl');\n      } else {\n        element.removeAttribute('dir');\n      }\n    }\n\n    return () => {\n      if (element) {\n        element.classList.remove(...classes);\n        element.removeAttribute('dir');\n      }\n    };\n  }, [className, element, rtl]);\n\n  // This effect should always last as it removes element from HTML tree\n  React.useEffect(() => {\n    return () => {\n      if (element) {\n        target.body.removeChild(element);\n      }\n    };\n  }, [element, target]);\n\n  return element;\n};\n"],"mappings":";;;;AAAA;AACA;AAEA;AAAkD;AAAA;AAQ3C,IAAMA,YAAY,GAAG,SAAfA,YAAY,CAAIC,OAA4B,EAA4B;EACnF,IAAQC,SAAS,GAAkBD,OAAO,CAAlCC,SAAS;IAAEC,GAAG,GAAaF,OAAO,CAAvBE,GAAG;IAAEC,MAAM,GAAKH,OAAO,CAAlBG,MAAM;EAE9B,IAAMC,OAA8B,GAAGC,KAAK,CAACC,OAAO,CAAC,YAAM;IACzD,IAAMC,UAAU,GAAG,IAAAC,oBAAS,GAAE,IAAIL,MAAM,GAAGA,MAAM,CAACM,aAAa,CAAC,KAAK,CAAC,GAAG,IAAI;;IAE7E;IACA;IACA,IAAIF,UAAU,EAAE;MACdJ,MAAM,CAACO,IAAI,CAACC,WAAW,CAACJ,UAAU,CAAC;IACrC;IAEA,OAAOA,UAAU;EACnB,CAAC,EAAE,CAACJ,MAAM,CAAC,CAAC;EAEZ,IAAAS,wCAAyB,EAAC,YAAM;IAC9B,IAAMC,OAAO,GAAGZ,SAAS,CAACa,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC;IAEpD,IAAIZ,OAAO,EAAE;MAAA;MACX,sBAAAA,OAAO,CAACa,SAAS,EAACC,GAAG,2BAAIL,OAAO,CAAC;MAEjC,IAAIX,GAAG,EAAE;QACPE,OAAO,CAACe,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC;MACpC,CAAC,MAAM;QACLf,OAAO,CAACgB,eAAe,CAAC,KAAK,CAAC;MAChC;IACF;IAEA,OAAO,YAAM;MACX,IAAIhB,OAAO,EAAE;QAAA;QACX,uBAAAA,OAAO,CAACa,SAAS,EAACI,MAAM,4BAAIR,OAAO,CAAC;QACpCT,OAAO,CAACgB,eAAe,CAAC,KAAK,CAAC;MAChC;IACF,CAAC;EACH,CAAC,EAAE,CAACnB,SAAS,EAAEG,OAAO,EAAEF,GAAG,CAAC,CAAC;;EAE7B;EACAG,KAAK,CAACiB,SAAS,CAAC,YAAM;IACpB,OAAO,YAAM;MACX,IAAIlB,OAAO,EAAE;QACXD,MAAM,CAACO,IAAI,CAACa,WAAW,CAACnB,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,EAAED,MAAM,CAAC,CAAC;EAErB,OAAOC,OAAO;AAChB,CAAC;AAAC"}