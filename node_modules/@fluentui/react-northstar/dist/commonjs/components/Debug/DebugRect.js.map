{"version":3,"file":"DebugRect.js","names":["cropMarkStyle","position","background","DebugRect","selectorRef","React","createRef","setDebugSelectorPosition","fiberNav","props","domNode","getBoundingClientRect","current","rect","style","top","left","width","height","requestAnimationFrame","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","showBackground","showClassName","showCropMarks","showElement","renderLabel","label","padding","margin","outline","outlineOffset","zIndex","pointerEvents","userSelect","bottom","color","fontWeight","right","fontSize","tagName","toLowerCase","hasAttribute","getAttribute","replace","Component","defaultProps","name"],"sources":["components/Debug/DebugRect.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FiberNavigator } from './FiberNavigator';\n\ninterface DebugRectProps {\n  showBackground?: boolean;\n  showClassName?: boolean;\n  showCropMarks?: boolean;\n  showElement?: boolean;\n  fiberNav: FiberNavigator;\n  renderLabel?: (fiberNav: FiberNavigator) => string;\n}\n\nconst cropMarkStyle: React.CSSProperties = {\n  position: 'absolute',\n  background: '#6495ed88',\n};\n\nexport class DebugRect extends React.Component<DebugRectProps> {\n  selectorRef = React.createRef<HTMLPreElement>();\n\n  static defaultProps = {\n    showBackground: true,\n    showClassName: true,\n    showElement: true,\n    renderLabel: fiberNav => `<${fiberNav.name} />`,\n  };\n\n  componentDidMount() {\n    this.setDebugSelectorPosition();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setDebugSelectorPosition();\n  }\n\n  setDebugSelectorPosition = () => {\n    const { fiberNav } = this.props;\n\n    if (\n      fiberNav &&\n      fiberNav.domNode &&\n      fiberNav.domNode.getBoundingClientRect &&\n      typeof fiberNav.domNode.getBoundingClientRect === 'function' &&\n      this.selectorRef.current\n    ) {\n      const rect = fiberNav.domNode.getBoundingClientRect();\n\n      this.selectorRef.current.style.top = `${rect.top}px`;\n      this.selectorRef.current.style.left = `${rect.left}px`;\n      this.selectorRef.current.style.width = `${rect.width}px`;\n      this.selectorRef.current.style.height = `${rect.height}px`;\n\n      requestAnimationFrame(this.setDebugSelectorPosition);\n    }\n  };\n\n  render() {\n    const { fiberNav, showBackground, showClassName, showCropMarks, showElement, renderLabel } = this.props;\n\n    if (!fiberNav) {\n      return null;\n    }\n\n    const label = renderLabel(fiberNav);\n\n    return (\n      <pre\n        ref={this.selectorRef}\n        style={{\n          position: 'fixed',\n          padding: 0,\n          margin: 0,\n          background: showBackground ? '#6495ed11' : 'none',\n          outline: '2px solid #6495edcc',\n          outlineOffset: '-1px',\n          zIndex: 99999999,\n          pointerEvents: 'none',\n          userSelect: 'none',\n        }}\n      >\n        {label && (\n          <div\n            style={{\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '-1px 0 0 -1px',\n              bottom: '100%',\n              left: 0,\n              color: '#fff',\n              background: '#6495ed',\n              zIndex: 1, // above crop marks\n            }}\n          >\n            <span style={{ fontWeight: 'bold' }}>{renderLabel(fiberNav)}</span>\n          </div>\n        )}\n        {showCropMarks && (\n          <>\n            {/* Top Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Top Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                right: '0',\n              }}\n            />\n\n            {/* Bottom Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Bottom Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                right: '0',\n              }}\n            />\n          </>\n        )}\n        {fiberNav.domNode && (showElement || showClassName) && (\n          <div\n            style={{\n              fontSize: '0.9em',\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '0 0 1px -1px',\n              top: '100%',\n              left: 0,\n              background: '#6495ed',\n            }}\n          >\n            {showElement && (\n              <strong style={{ fontWeight: 'bold', color: 'hsl(160, 100%, 80%)' }}>\n                {fiberNav.domNode.tagName && fiberNav.domNode.tagName.toLowerCase()}\n              </strong>\n            )}\n            {showClassName &&\n              fiberNav.domNode.hasAttribute &&\n              typeof fiberNav.domNode.hasAttribute === 'function' &&\n              fiberNav.domNode.hasAttribute('class') && (\n                <span style={{ color: 'rgba(255, 255, 255, 0.75)' }}>\n                  .{(fiberNav.domNode.getAttribute('class') || '').replace(/ +/g, '.')}\n                </span>\n              )}\n          </div>\n        )}\n      </pre>\n    );\n  }\n}\n"],"mappings":"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"}