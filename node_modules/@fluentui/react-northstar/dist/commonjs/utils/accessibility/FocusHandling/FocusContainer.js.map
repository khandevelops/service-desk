{"version":3,"file":"FocusContainer.js","names":["ContainerFocusHandler","getItemsCount","setFocusAt","circular","focusedIndex","noItems","constrainFocusedIndex","itemsCount","getFocusedIndex","syncFocusedIndex","withCurrentIndex","movePrevious","moveNext","moveFirst","moveLast"],"sources":["utils/accessibility/FocusHandling/FocusContainer.ts"],"sourcesContent":["export class ContainerFocusHandler {\n  private focusedIndex = 0;\n\n  constructor(\n    private getItemsCount: () => number,\n    private readonly setFocusAt: (number) => void,\n    private circular = false,\n  ) {}\n\n  private noItems = (): boolean => this.getItemsCount() === 0;\n\n  private constrainFocusedIndex(): void {\n    const itemsCount = this.getItemsCount();\n    if (this.focusedIndex < 0) {\n      this.focusedIndex = this.circular ? itemsCount - 1 : 0;\n    }\n\n    if (this.focusedIndex >= itemsCount) {\n      this.focusedIndex = this.circular ? 0 : itemsCount - 1;\n    }\n  }\n\n  public getFocusedIndex(): number {\n    return this.focusedIndex;\n  }\n\n  public syncFocusedIndex(withCurrentIndex: number) {\n    this.focusedIndex = withCurrentIndex;\n  }\n\n  public movePrevious(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex -= 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveNext(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex += 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveFirst(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = 0;\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveLast(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = this.getItemsCount() - 1;\n    this.setFocusAt(this.focusedIndex);\n  }\n}\n"],"mappings":";;;;IAAaA,qBAAqB;EAGhC,+BACUC,aAA2B,EAClBC,UAA4B,EACrCC,QAAQ,EAChB;IAAA;IAAA,IADQA,QAAQ;MAARA,QAAQ,GAAG,KAAK;IAAA;IAAA,KAFhBF,aAA2B,GAA3BA,aAA2B;IAAA,KAClBC,UAA4B,GAA5BA,UAA4B;IAAA,KACrCC,QAAQ,GAARA,QAAQ;IAAA,KALVC,YAAY,GAAG,CAAC;IAAA,KAQhBC,OAAO,GAAG;MAAA,OAAe,KAAI,CAACJ,aAAa,EAAE,KAAK,CAAC;IAAA;EAFxD;EAAC;EAAA,OAIIK,qBAAqB,GAA7B,iCAAsC;IACpC,IAAMC,UAAU,GAAG,IAAI,CAACN,aAAa,EAAE;IACvC,IAAI,IAAI,CAACG,YAAY,GAAG,CAAC,EAAE;MACzB,IAAI,CAACA,YAAY,GAAG,IAAI,CAACD,QAAQ,GAAGI,UAAU,GAAG,CAAC,GAAG,CAAC;IACxD;IAEA,IAAI,IAAI,CAACH,YAAY,IAAIG,UAAU,EAAE;MACnC,IAAI,CAACH,YAAY,GAAG,IAAI,CAACD,QAAQ,GAAG,CAAC,GAAGI,UAAU,GAAG,CAAC;IACxD;EACF,CAAC;EAAA,OAEMC,eAAe,GAAtB,2BAAiC;IAC/B,OAAO,IAAI,CAACJ,YAAY;EAC1B,CAAC;EAAA,OAEMK,gBAAgB,GAAvB,0BAAwBC,gBAAwB,EAAE;IAChD,IAAI,CAACN,YAAY,GAAGM,gBAAgB;EACtC,CAAC;EAAA,OAEMC,YAAY,GAAnB,wBAA4B;IAC1B,IAAI,IAAI,CAACN,OAAO,EAAE,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,IAAI,CAAC;IACtB,IAAI,CAACE,qBAAqB,EAAE;IAE5B,IAAI,CAACJ,UAAU,CAAC,IAAI,CAACE,YAAY,CAAC;EACpC,CAAC;EAAA,OAEMQ,QAAQ,GAAf,oBAAwB;IACtB,IAAI,IAAI,CAACP,OAAO,EAAE,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,IAAI,CAAC;IACtB,IAAI,CAACE,qBAAqB,EAAE;IAE5B,IAAI,CAACJ,UAAU,CAAC,IAAI,CAACE,YAAY,CAAC;EACpC,CAAC;EAAA,OAEMS,SAAS,GAAhB,qBAAyB;IACvB,IAAI,IAAI,CAACR,OAAO,EAAE,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,GAAG,CAAC;IACrB,IAAI,CAACF,UAAU,CAAC,IAAI,CAACE,YAAY,CAAC;EACpC,CAAC;EAAA,OAEMU,QAAQ,GAAf,oBAAwB;IACtB,IAAI,IAAI,CAACT,OAAO,EAAE,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,GAAG,IAAI,CAACH,aAAa,EAAE,GAAG,CAAC;IAC5C,IAAI,CAACC,UAAU,CAAC,IAAI,CAACE,YAAY,CAAC;EACpC,CAAC;EAAA;AAAA;AAAA"}