{"version":3,"file":"withDebugId.js","names":["isEnabled","isDebugEnabled","withDebugId","process","env","NODE_ENV","data","debugId","undefined","Object","prototype","hasOwnProperty","call","copy","assign","defineProperty","value","writable","enumerable","result","apply","arguments"],"sources":["withDebugId.ts"],"sourcesContent":["import { isEnabled as isDebugEnabled } from './debugEnabled';\n\nexport const withDebugId =\n  process.env.NODE_ENV === 'production'\n    ? <T>(data: T, debugId: string): T => data\n    : <T>(data: T, debugId: string): T => {\n        if (!isDebugEnabled || debugId === undefined) {\n          return data;\n        }\n\n        if (typeof data === 'object' && data !== null) {\n          if (!Object.prototype.hasOwnProperty.call(data, '_debugId')) {\n            const copy = { ...data };\n            Object.defineProperty(copy, '_debugId', {\n              value: debugId,\n              writable: false,\n              enumerable: false,\n            });\n            return copy;\n          }\n        }\n\n        if (typeof data === 'function') {\n          return ((...args) => {\n            const result = data(...args);\n            return withDebugId(result, debugId);\n          }) as unknown as T;\n        }\n\n        return data;\n      };\n"],"mappings":"AAAA,SAASA,SAAS,IAAIC,cAAc,QAAQ,gBAAgB;AAE5D,OAAO,IAAMC,WAAW,GACtBC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACjC,UAAIC,IAAO,EAAEC,OAAe;EAAA,OAAQD,IAAI;AAAA,IACxC,UAAIA,IAAO,EAAEC,OAAe,EAAQ;EAClC,IAAI,CAACN,cAAc,IAAIM,OAAO,KAAKC,SAAS,EAAE;IAC5C,OAAOF,IAAI;EACb;EAEA,IAAI,OAAOA,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,IAAI,EAAE;IAC7C,IAAI,CAACG,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACN,IAAI,EAAE,UAAU,CAAC,EAAE;MAC3D,IAAMO,IAAI,GAAAJ,MAAA,CAAAK,MAAA,KAAQR,IAAI,CAAE;MACxBG,MAAM,CAACM,cAAc,CAACF,IAAI,EAAE,UAAU,EAAE;QACtCG,KAAK,EAAET,OAAO;QACdU,QAAQ,EAAE,KAAK;QACfC,UAAU,EAAE;MACd,CAAC,CAAC;MACF,OAAOL,IAAI;IACb;EACF;EAEA,IAAI,OAAOP,IAAI,KAAK,UAAU,EAAE;IAC9B,OAAQ,YAAa;MACnB,IAAMa,MAAM,GAAGb,IAAI,CAAAc,KAAA,SAAAC,SAAQ,CAAC;MAC5B,OAAOnB,WAAW,CAACiB,MAAM,EAAEZ,OAAO,CAAC;IACrC,CAAC;EACH;EAEA,OAAOD,IAAI;AACb,CAAC"}