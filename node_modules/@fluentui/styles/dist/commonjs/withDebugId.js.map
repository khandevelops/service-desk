{"version":3,"file":"withDebugId.js","names":["_debugEnabled","require","withDebugId","process","env","NODE_ENV","data","debugId","isDebugEnabled","undefined","Object","prototype","hasOwnProperty","call","copy","assign","defineProperty","value","writable","enumerable","result","apply","arguments","exports"],"sources":["withDebugId.ts"],"sourcesContent":["import { isEnabled as isDebugEnabled } from './debugEnabled';\n\nexport const withDebugId =\n  process.env.NODE_ENV === 'production'\n    ? <T>(data: T, debugId: string): T => data\n    : <T>(data: T, debugId: string): T => {\n        if (!isDebugEnabled || debugId === undefined) {\n          return data;\n        }\n\n        if (typeof data === 'object' && data !== null) {\n          if (!Object.prototype.hasOwnProperty.call(data, '_debugId')) {\n            const copy = { ...data };\n            Object.defineProperty(copy, '_debugId', {\n              value: debugId,\n              writable: false,\n              enumerable: false,\n            });\n            return copy;\n          }\n        }\n\n        if (typeof data === 'function') {\n          return ((...args) => {\n            const result = data(...args);\n            return withDebugId(result, debugId);\n          }) as unknown as T;\n        }\n\n        return data;\n      };\n"],"mappings":";;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AAEO,IAAMC,WAAW,GACtBC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACjC,UAAIC,IAAO,EAAEC,OAAe;EAAA,OAAQD,IAAI;AAAA,IACxC,UAAIA,IAAO,EAAEC,OAAe,EAAQ;EAClC,IAAI,CAACC,uBAAc,IAAID,OAAO,KAAKE,SAAS,EAAE;IAC5C,OAAOH,IAAI;EACb;EAEA,IAAI,OAAOA,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,IAAI,EAAE;IAC7C,IAAI,CAACI,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACP,IAAI,EAAE,UAAU,CAAC,EAAE;MAC3D,IAAMQ,IAAI,GAAAJ,MAAA,CAAAK,MAAA,KAAQT,IAAI,CAAE;MACxBI,MAAM,CAACM,cAAc,CAACF,IAAI,EAAE,UAAU,EAAE;QACtCG,KAAK,EAAEV,OAAO;QACdW,QAAQ,EAAE,KAAK;QACfC,UAAU,EAAE;MACd,CAAC,CAAC;MACF,OAAOL,IAAI;IACb;EACF;EAEA,IAAI,OAAOR,IAAI,KAAK,UAAU,EAAE;IAC9B,OAAQ,YAAa;MACnB,IAAMc,MAAM,GAAGd,IAAI,CAAAe,KAAA,SAAAC,SAAQ,CAAC;MAC5B,OAAOpB,WAAW,CAACkB,MAAM,EAAEb,OAAO,CAAC;IACrC,CAAC;EACH;EAEA,OAAOD,IAAI;AACb,CAAC;AAACiB,OAAA,CAAArB,WAAA,GAAAA,WAAA"}