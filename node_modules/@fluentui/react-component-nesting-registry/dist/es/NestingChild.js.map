{"version":3,"file":"NestingChild.js","names":["React","NestingContext","NestingChildInner","_React$Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","childRef","createRef","getRefs","props","getContextRefs","_proto","prototype","componentDidMount","register","componentWillUnmount","unregister","render","children","Component","NestingChild","_ref","createElement","Consumer","contextValue"],"sources":["NestingChild.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { NestingContext } from './NestingContext';\nimport { NestingContextValue, NestingProps, NodeRef } from './types';\n\ntype NestingChildInnerProps = NestingContextValue & NestingProps;\n\nclass NestingChildInner<T extends Node> extends React.Component<NestingChildInnerProps> {\n  childRef = React.createRef<T>();\n\n  componentDidMount() {\n    this.props.register(this.childRef as any);\n  }\n\n  componentWillUnmount() {\n    this.props.unregister(this.childRef as any);\n  }\n\n  getRefs = (): NodeRef[] => this.props.getContextRefs(this.childRef as any);\n\n  render() {\n    return this.props.children(this.getRefs, this.childRef as any);\n  }\n}\n\nexport const NestingChild: React.FunctionComponent<NestingProps> = ({ children }) => (\n  <NestingContext.Consumer>\n    {(contextValue: NestingContextValue) => <NestingChildInner {...contextValue}>{children}</NestingChildInner>}\n  </NestingContext.Consumer>\n);\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAE9B,SAASC,cAAc,QAAQ,kBAAkB;AAAC,IAK5CC,iBAAiB,0BAAAC,gBAAA;EAAAC,cAAA,CAAAF,iBAAA,EAAAC,gBAAA;EAAA,SAAAD,kBAAA;IAAA,IAAAG,KAAA;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAN,KAAA,GAAAF,gBAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,gBAAA,SAAAW,MAAA,CAAAL,IAAA;IAAAJ,KAAA,CACrBU,QAAQ,gBAAGf,KAAK,CAACgB,SAAS,CAAI,CAAC;IAAAX,KAAA,CAU/BY,OAAO,GAAG;MAAA,OAAiBZ,KAAA,CAAKa,KAAK,CAACC,cAAc,CAACd,KAAA,CAAKU,QAAe,CAAC;IAAA;IAAA,OAAAV,KAAA;EAAA;EAAA,IAAAe,MAAA,GAAAlB,iBAAA,CAAAmB,SAAA;EAAAD,MAAA,CAR1EE,iBAAiB,GAAjB,SAAAA,kBAAA,EAAoB;IAClB,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAAC,IAAI,CAACR,QAAe,CAAC;EAC3C,CAAC;EAAAK,MAAA,CAEDI,oBAAoB,GAApB,SAAAA,qBAAA,EAAuB;IACrB,IAAI,CAACN,KAAK,CAACO,UAAU,CAAC,IAAI,CAACV,QAAe,CAAC;EAC7C,CAAC;EAAAK,MAAA,CAIDM,MAAM,GAAN,SAAAA,OAAA,EAAS;IACP,OAAO,IAAI,CAACR,KAAK,CAACS,QAAQ,CAAC,IAAI,CAACV,OAAO,EAAE,IAAI,CAACF,QAAe,CAAC;EAChE,CAAC;EAAA,OAAAb,iBAAA;AAAA,EAf6CF,KAAK,CAAC4B,SAAS;AAkB/D,OAAO,IAAMC,YAAmD,GAAG,SAAtDA,YAAmDA,CAAAC,IAAA;EAAA,IAAMH,QAAQ,GAAAG,IAAA,CAARH,QAAQ;EAAA,oBAC5E3B,KAAA,CAAA+B,aAAA,CAAC9B,cAAc,CAAC+B,QAAQ,QACrB,UAACC,YAAiC;IAAA,oBAAKjC,KAAA,CAAA+B,aAAA,CAAC7B,iBAAiB,EAAK+B,YAAY,EAAGN,QAA4B,CAAC;EAAA,CACpF,CAAC;AAAA,CAC3B"}