{"version":3,"file":"useNestingRoot.js","names":["React","NestingContext","RefStack","registrySet","useNestingRoot","_React$useState","useState","registry","parentRef","useRef","nestedProps","useMemo","value","getContextRefs","register","unregister","getRefs","useCallback","useEffect","NestedComponent","Provider","isRoot","ref"],"sources":["hooks/useNestingRoot.ts"],"sourcesContent":["import * as React from 'react';\n\nimport { NestingContext } from '../NestingContext';\nimport { NestedContextProps } from '../types';\nimport { RefStack } from '../utils/RefStack';\nimport { UseNestingHookResult } from './types';\n\nconst registrySet = new RefStack();\n\n// These hooks are not used currently\n/* eslint-disable */\n\nexport const useNestingRoot = <T extends Node>(): UseNestingHookResult<T> => {\n  const [registry] = React.useState(registrySet);\n  const parentRef = React.useRef<T>(null);\n\n  const nestedProps: NestedContextProps = React.useMemo(\n    () => ({\n      value: {\n        getContextRefs: registry.getContextRefs,\n        register: registry.register,\n        unregister: registry.unregister,\n      },\n    }),\n    [],\n  );\n  const getRefs = React.useCallback(() => {\n    return registry.getContextRefs(parentRef as any);\n  }, []);\n\n  React.useEffect(() => {\n    registry.register(parentRef as any);\n\n    return () => registry.unregister(parentRef as any);\n  }, []);\n\n  return {\n    NestedComponent: NestingContext.Provider,\n    nestedProps,\n\n    getRefs,\n    isRoot: true,\n    ref: parentRef,\n  };\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAE9B,SAASC,cAAc,QAAQ,mBAAmB;AAElD,SAASC,QAAQ,QAAQ,mBAAmB;AAG5C,IAAMC,WAAW,GAAG,IAAID,QAAQ,CAAC,CAAC;;AAElC;AACA;;AAEA,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAkD;EAC3E,IAAAC,eAAA,GAAmBL,KAAK,CAACM,QAAQ,CAACH,WAAW,CAAC;IAAvCI,QAAQ,GAAAF,eAAA;EACf,IAAMG,SAAS,GAAGR,KAAK,CAACS,MAAM,CAAI,IAAI,CAAC;EAEvC,IAAMC,WAA+B,GAAGV,KAAK,CAACW,OAAO,CACnD;IAAA,OAAO;MACLC,KAAK,EAAE;QACLC,cAAc,EAAEN,QAAQ,CAACM,cAAc;QACvCC,QAAQ,EAAEP,QAAQ,CAACO,QAAQ;QAC3BC,UAAU,EAAER,QAAQ,CAACQ;MACvB;IACF,CAAC;EAAA,CAAC,EACF,EACF,CAAC;EACD,IAAMC,OAAO,GAAGhB,KAAK,CAACiB,WAAW,CAAC,YAAM;IACtC,OAAOV,QAAQ,CAACM,cAAc,CAACL,SAAgB,CAAC;EAClD,CAAC,EAAE,EAAE,CAAC;EAENR,KAAK,CAACkB,SAAS,CAAC,YAAM;IACpBX,QAAQ,CAACO,QAAQ,CAACN,SAAgB,CAAC;IAEnC,OAAO;MAAA,OAAMD,QAAQ,CAACQ,UAAU,CAACP,SAAgB,CAAC;IAAA;EACpD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLW,eAAe,EAAElB,cAAc,CAACmB,QAAQ;IACxCV,WAAW,EAAXA,WAAW;IAEXM,OAAO,EAAPA,OAAO;IACPK,MAAM,EAAE,IAAI;IACZC,GAAG,EAAEd;EACP,CAAC;AACH,CAAC"}