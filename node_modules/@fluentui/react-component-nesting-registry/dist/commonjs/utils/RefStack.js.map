{"version":3,"file":"RefStack.js","names":["RefStack","_this","set","Set","getContextRefs","ref","nodes","Array","from","refId","indexOf","slice","register","add","unregister","delete","exports"],"sources":["utils/RefStack.ts"],"sourcesContent":["import { NodeRef } from '../types';\n\nexport class RefStack {\n  private set = new Set<NodeRef>();\n\n  public getContextRefs = (ref: NodeRef): NodeRef[] => {\n    const nodes = Array.from(this.set);\n    const refId = nodes.indexOf(ref);\n\n    return nodes.slice(refId);\n  };\n\n  public register = (ref: NodeRef): void => {\n    this.set.add(ref);\n  };\n\n  public unregister = (ref: NodeRef): void => {\n    this.set.delete(ref);\n  };\n}\n"],"mappings":";;;;IAEaA,QAAQ,YAAAA,SAAA;EAAA,IAAAC,KAAA;EAAA,KACXC,GAAG,GAAG,IAAIC,GAAG,CAAU,CAAC;EAAA,KAEzBC,cAAc,GAAG,UAACC,GAAY,EAAgB;IACnD,IAAMC,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACP,KAAI,CAACC,GAAG,CAAC;IAClC,IAAMO,KAAK,GAAGH,KAAK,CAACI,OAAO,CAACL,GAAG,CAAC;IAEhC,OAAOC,KAAK,CAACK,KAAK,CAACF,KAAK,CAAC;EAC3B,CAAC;EAAA,KAEMG,QAAQ,GAAG,UAACP,GAAY,EAAW;IACxCJ,KAAI,CAACC,GAAG,CAACW,GAAG,CAACR,GAAG,CAAC;EACnB,CAAC;EAAA,KAEMS,UAAU,GAAG,UAACT,GAAY,EAAW;IAC1CJ,KAAI,CAACC,GAAG,CAACa,MAAM,CAACV,GAAG,CAAC;EACtB,CAAC;AAAA;AAAAW,OAAA,CAAAhB,QAAA,GAAAA,QAAA"}